(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"../client/src/HOC/withGuide/index.jsx":function(e,t,n){"use strict";n("./core-js/modules/es7.symbol.async-iterator.js"),n("./core-js/modules/es6.symbol.js"),n("./core-js/modules/es6.object.assign.js"),n("./core-js/modules/es6.object.set-prototype-of.js"),n("./antd/lib/tooltip/style/index.js");var r=n("./antd/lib/tooltip/index.js"),o=n.n(r),a=n("./react/index.js"),i=n.n(a);function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,p(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,i.a.Component),n=t,(r=[{key:"render",value:function(){return i.a.createElement("svg",c({className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},this.props),i.a.createElement("defs",null,i.a.createElement("style",null)),i.a.createElement("path",{d:"M557.25 512l279.08 279.06-45.27 45.27L512 557.23l-279.06 279.1-45.27-45.29L466.77 512l-279.1-279.06 45.27-45.27L512 466.77l279.06-279.1 45.27 45.27z",fill:"#fff"}))}}])&&l(n.prototype,r),o&&l(n,o),t}();n("../client/src/HOC/withGuide/style.styl");function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==m(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=e.guideKey,n=e.iconClose,r=void 0===n||n,a=e.content,s=e.position,c=void 0===s?"top":s;return function(e){return function(n){function s(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=h(this,g(s).call(this,e))).onClose=function(){localStorage.setItem(t,1),n.setState({needGuide:!1})},n.state={needGuide:!1},n}var l,u,p;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(s,i.a.Component),l=s,(u=[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({needGuide:!localStorage.getItem(t)})},300)}},{key:"render",value:function(){var t=this.props.popupContainer,n={placement:c,autoAdjustOverflow:!1,title:i.a.createElement(w,{content:a,iconClose:r,onClose:this.onClose}),visible:this.state.needGuide&&this.props.visible};return t&&(n.getPopupContainer=function(){return"function"===typeof t?t():t}),i.a.createElement(o.a,y({},n,{arrowPointAtCenter:!1,overlayClassName:r?"menu-guide-content":"menu-guide-content no-icon"}),i.a.createElement(e,this.props))}}])&&b(l.prototype,u),p&&b(l,p),s}()}}function w(e){var t=e.content,n=e.iconClose,r=e.onClose,o=n?"guide-content-container icon-close":"guide-content-container";return i.a.createElement("div",{className:o},t," ",i.a.createElement("span",{className:n?"btn-container guide-round-btn":"btn-container",onClick:function(e){e.stopPropagation(),r()}},n?i.a.createElement(d,null):i.a.createElement("span",{className:"guide-default-ack-btn"},"\u6211\u77e5\u9053\u4e86")))}n.d(t,"a",function(){return j})},"../client/src/HOC/withGuide/style.styl":function(e,t,n){},"../client/src/components/Modal/MultiAddUserModal/style.styl":function(e,t,n){},"../client/src/containers/ManageSpace/PermSetting/utils.js":function(e,t,n){"use strict";n("./core-js/modules/es7.symbol.async-iterator.js"),n("./core-js/modules/es6.symbol.js"),n("./core-js/modules/es6.object.set-prototype-of.js"),n("./core-js/modules/es7.object.get-own-property-descriptors.js"),n("./core-js/modules/web.dom.iterable.js"),n("./core-js/modules/es6.array.iterator.js"),n("./core-js/modules/es6.object.keys.js"),n("./antd/lib/tooltip/style/index.js");var r=n("./antd/lib/tooltip/index.js"),o=n.n(r),a=(n("./core-js/modules/es6.regexp.to-string.js"),n("./antd/lib/select/style/index.js"),n("./antd/lib/select/index.js")),i=n.n(a),s=n("./react/index.js"),c=n.n(s),l=n("../client/src/components/Toastr/index.js"),u=n("../client/src/assets/svg/tip.svg"),p=(n("./antd/lib/button/style/index.js"),n("./antd/lib/button/index.js")),f=n.n(p),d=(n("./core-js/modules/es6.function.name.js"),n("./core-js/modules/es6.set.js"),n("./core-js/modules/es6.array.from.js"),n("./core-js/modules/es6.regexp.split.js"),n("./core-js/modules/es6.object.assign.js"),n("./core-js/modules/es6.promise.js"),n("./core-js/modules/es6.string.iterator.js"),n("./core-js/modules/es6.regexp.match.js"),n("./core-js/modules/es6.regexp.replace.js"),n("./core-js/modules/es7.array.includes.js"),n("./core-js/modules/es6.string.includes.js"),n("./antd/lib/input/style/index.js"),n("./antd/lib/input/index.js")),m=n.n(d),y=n("../client/src/components/ui/modal/index.js"),b=n("../client/src/stores/index.js"),h=n("../client/src/assets/svg/cross.svg"),g=n("../client/src/consts/index.js"),v=function(e){var t=e.data,n=e.userNotFound,r=e.userLeft,o=e.userRepeat,a=e.userInputRepeat;return t.warningTip="",t.warningData=[],a.length&&t.warningData.push({title:"\u91cd\u590d\u8d26\u6237: ",data:a}),n.length&&t.warningData.push({title:"\u7528\u6237\u4e0d\u5b58\u5728: ",data:n}),r.length&&t.warningData.push({title:"\u5df2\u79bb\u804c\u7528\u6237: ",data:r}),o.length&&t.warningData.push({title:"\u7528\u6237\u5df2\u6dfb\u52a0\uff0c\u8bf7\u52ff\u91cd\u590d\u6dfb\u52a0: ",data:o}),t.warningData.length&&t.tempSelect.length?t.warningTip="\u8f93\u5165mis\u53f7\u91cd\u65b0\u6dfb\u52a0\uff0c\u70b9\u51fb\u201c\u786e\u5b9a\u201d\u5c06\u5ffd\u7565\u65e0\u6cd5\u8bc6\u522b\u8d26\u53f7":t.tempSelect.length||(t.warningTip="\u8bf7\u8f93\u5165mis\u53f7\u91cd\u65b0\u6dfb\u52a0"),t};n("../client/src/components/Modal/MultiAddUserModal/style.styl");function j(e){return(j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return!t||"object"!==j(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C,k=m.a.TextArea,T=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=O(this,(e=E(t)).call.apply(e,[this].concat(a)))).isSecondCheck=!1,n.state={tooLongWaring:"",isLoading:!1,text:""},n.focusInput=function(){var e=n.input;e&&e.textAreaRef.focus()},n.resizeInput=function(){return n.input&&n.input.resizeTextarea()},n.focusInp=function(){return n.input&&n.input.textAreaRef.focus()},n.addToTempSelect=function(e){var t,r=e.userData,o=e.userNotFound,a=e.userLeft,i=e.userInputRepeat,s=n.props.existData,c=void 0===s?[]:s,l=n.props.data,u={},p={},f=[],d=[];c.forEach(function(e){u[e.key]=!0}),l.tempSelect.forEach(function(e){p[e.key]=!0}),r.forEach(function(e){if(u[e.key]){d.push(e.key);var t=i.indexOf(e.key);t>=0&&i.splice(t,1)}else{if(p[e.key]&&!a.includes(e.key))return i.push(e.key);f.push(e)}}),(t=l.tempSelect).push.apply(t,f),l=v({data:l,userRepeat:d,userNotFound:o,userLeft:a,userInputRepeat:i}),n.props.updateData(l)},n.firstCheck=function(e,t){var r=b.b.user;n.showModalLoading();var o=t.trim().replace(/[,|\uff0c]?\n|[,|\uff0c]?\r|\uff0c/gi,","),a=o.match(/([^,]+,?){1,200}/g).map(function(e){return r.getUserInfos(encodeURIComponent(e))});return Promise.all(a).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e=Object.assign.apply(Object,[{}].concat(w(e)));var t=o.split(","),r={},a={},i={},s=[],c=[];Object.keys(e).forEach(function(t){e[t].jobStatusId===g.g.OUTJOB?s.push(t):a[t]=e[t],r[t]=e[t]});var l=Array.from(new Set(n.getNotFound(t,r)));t.forEach(function(e){e&&(!i[e]||l.includes(e)||s.includes(e)?i[e]=!0:c.push(e))});var u=Object.keys(i).map(function(e){return a[e]?{avatar:a[e].avatar,key:a[e].account,tenantId:a[e].tenantId,text:a[e].name,orgNamePath:a[e].orgNamePath,userInfo:a[e]}:null}).filter(function(e){return e});return c=Array.from(new Set(c)),s=Array.from(new Set(s)),n.hideModalLoading(),n.addToTempSelect({userData:u,userNotFound:l,userLeft:s,userInputRepeat:c}),!0}).catch(function(e){console.error(e),l.a.error("\u7f51\u7edc\u9519\u8bef"),n.hideModalLoading()})},n.showModalLoading=function(){return n.setState({isLoading:!0})},n.hideModalLoading=function(){n.state.isLoading&&setTimeout(n.resizeInput),n.setState({isLoading:!1})},n.getNotFound=function(e,t){return e.filter(function(e){return e&&!t[e]})},n.secondCheck=function(e){e.selectedItems=e.tempSelect,e.tempSelect=[],e.isShow=!0,n.props.updateData(e),n.hideModalLoading(),setTimeout(n.props.onCancel)},n.submitData=function(){var e=n.props,t=e.data,r=e.noVal,o=n.input,a=o&&o.textAreaRef.value.trim();return(n.isSecondCheck&&!a&&t.tempSelect.length?function(){return n.secondCheck(t)}:function(){return a?n.firstCheck(t,n.input.textAreaRef.value).then(function(e){e&&(n.input.textAreaRef.value="",n.isSecondCheck=!0)}):(o.textAreaRef.value="",r(t))})()},n.ctrlButton=function(){var e=n.props,t=e.onCancel,r=e.data.warningTip,o=n.state,a=o.tooLongWaring,i=o.isLoading,s=o.text;return c.a.createElement("div",{className:"info-btn"},c.a.createElement("span",{className:"waning-tip"},r||a),c.a.createElement("div",{className:"button-container"},c.a.createElement(f.a,{type:"default",className:"cancel",onClick:t},"\u53d6\u6d88"),c.a.createElement(f.a,{type:"primary",disabled:!s.length,className:"".concat(i?"txt-loading":""," confirm"),onClick:n.submitData},"\u786e\u5b9a")))},n.renderFoot=function(){var e=n.props.data.warningData,t=void 0===e?[]:e;return c.a.createElement("div",{className:"ct-multiadduser-modal-footer"},c.a.createElement("div",{className:"warning"},t.map(function(e){return c.a.createElement("div",{className:"warning-item",key:"warn".concat(Math.random())},c.a.createElement("span",{className:"title"},e.title),c.a.createElement("span",{className:"info"},e.data.join(", ")))})),n.ctrlButton())},n.renderSelectedItems=function(){var e=n.props,t=e.deleteTempSelect,r=e.data;if(r.tempSelect.length)return c.a.createElement("ul",null,r.tempSelect.map(function(e){return c.a.createElement(o.a,{title:e.key,key:"temp".concat(Math.random())},c.a.createElement("li",null,e.text,c.a.createElement(h.a,{className:"delete-icon",onClick:function(){return t({key:r.key,item:e})}})))}),r.tempSelect.length>0&&c.a.createElement("span",null,"\xa0\xa0\u5171",r.tempSelect.length,"\u4eba"))},n.onTextareaChange=function(e){n.setState({text:e.target.value})},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,c.a.Component),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){var t=this;e.visible||setTimeout(function(){return t.focusInp()})}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.focusInp(),e.input&&e.input.textAreaRef.addEventListener("paste",e.resizeInput)})}},{key:"componentWillUnmount",value:function(){this.input&&this.input.textAreaRef.removeEventListener("paste",this.resizeInput)}},{key:"render",value:function(){var e=this,t=this.state.text,n=this.props,r=n.modalTitle,o=n.bodyTip,a=n.placeholder,i=n.visible,s=n.onCancel;return c.a.createElement(y.a,{title:r,footer:this.renderFoot(),className:"ct-multiadduser-modal",visible:i,onCancel:s,maskClosable:!1,disabled:!t.length},c.a.createElement("span",{className:"ct-multiadduser-tips"},o),c.a.createElement("div",{className:"ct-multiadduser-text-container",onClick:this.focusInput},this.renderSelectedItems(),c.a.createElement(k,{autosize:{minRows:4},placeholder:a,onChange:this.onTextareaChange,ref:function(t){e.input=t}})))}}])&&S(n.prototype,r),a&&S(n,a),t}(),N=(n("../client/src/assets/svg/delete-small.svg"),n("../client/src/HOC/withGuide/index.jsx")),P=n("../client/src/utils/keyGenerator.js");function _(e){return(_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return!t||"object"!==_(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(n,!0).forEach(function(t){F(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"e",function(){return V}),n.d(t,"i",function(){return z}),n.d(t,"b",function(){return J}),n.d(t,"l",function(){return U}),n.d(t,"j",function(){return W}),n.d(t,"k",function(){return H}),n.d(t,"h",function(){return B}),n.d(t,"a",function(){return K}),n.d(t,"c",function(){return Q}),n.d(t,"d",function(){return X}),n.d(t,"f",function(){return Y}),n.d(t,"g",function(){return re});var G=i.a.Option,V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return M({key:+new Date,permGroupType:"edit",name:"",selectedItems:[],isNew:!0},e)},z=function(e){return l.a.error("".concat(e,"\u5df2\u6709\u6743\u9650\uff0c\u5982\u9700\u53d8\u66f4\uff0c\u8bf7\u76f4\u63a5\u4fee\u6539"))},J=function(e,t,n){var r=t.map(function(e){return e.key}),o=e.map(function(e){return r.indexOf(e)>-1?e:""}).filter(function(e){return e}).map(function(e){return n[e]}).join();if(o)return"".concat(o," ")},U=function(e){var t=e.modalData,n=e.selectModalVisible,r=e.hideModal,o=e.deleteTempSelect,a=e.noVal,i=e.existData,s=e.updateData;return c.a.createElement(T,{modalTitle:"\u6279\u91cf\u65b0\u589e",bodyTip:'\u8bf7\u590d\u5236\u4f60\u60f3\u8981\u6dfb\u52a0\u7684\u4eba\u5458mis\u53f7\uff0c\u4ee5","\u53f7\u9694\u5f00',placeholder:"\u4f8b: zhangjiawu, duwanzhi, zhangming",visible:n,onCancel:r,noVal:a,deleteTempSelect:o,data:t,existData:i,updateData:s})},W={manage:"\u6587\u6863\u7ba1\u7406",delete:"\u6587\u6863\u7684\u7f16\u8f91\u3001\u6dfb\u52a0\u3001\u5220\u9664",add:"\u6587\u6863\u7684\u7f16\u8f91\u3001\u6dfb\u52a0",edit:"\u6587\u6863\u7684\u7f16\u8f91",visit:"\u4ec5\u6587\u6863\u7684\u6d4f\u89c8"},q=c.a.createElement("span",null,"\u6587\u6863\u7ba1\u7406\u6743\u9650\uff0c\u5177\u6709\u6587\u6863\u5305\u62ec\u6d4f\u89c8\u6570\u636e\u5bfc\u51fa\u3001\u6743\u9650\u8bbe\u7f6e\u3001",c.a.createElement("br",null),"\u6587\u6863\u65b0\u589e\u3001\u6587\u6863\u7f16\u8f91\u7b49\u6240\u6709\u6743\u9650\u3002",c.a.createElement("br",null)),H=c.a.createElement("span",{className:"title"},"\u6743\u9650",c.a.createElement(o.a,{placement:"top",title:q,overlayClassName:"permission-tip"},c.a.createElement(u.a,{className:"question-icon light-svg"}))),B=c.a.createElement(o.a,{title:"\u4e0d\u652f\u6301\u6839\u636e\u7ec4\u7ec7\u67b6\u6784\u751f\u6210\u7684\u90ae\u4ef6\u7ec4",mouseEnterDelay:.6},c.a.createElement(u.a,{className:"question-icon light-svg"})),K=Object(N.a)({guideKey:Object(P.a)("doc-default-auth"),iconClose:!1,content:c.a.createElement("div",null,c.a.createElement("p",{style:{fontSize:"16px",fontWeight:"bold",color:"#FFFFFF",letterSpacing:0,lineHeight:"24px",marginBottom:"4px"}},"\u65b0\u589e\u6743\u9650\u9ed8\u8ba4\u4e3a \u201c\u7f16\u8f91\u6743\u9650\u201d"),c.a.createElement("p",{style:{fontSize:"14px",color:"rgba(255,255,255,0.84)",letterSpacing:0}},"\u7f16\u8f91\u6743\u9650\u5141\u8bb8\u7528\u6237\u4fee\u6539\u6587\u6863\u5185\u5bb9\uff0c\u4f46\u4e0d\u80fd\u5220\u9664\u548c\u79fb\u52a8\u6587\u6863\u3002")),visiable:!0})(C=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),R(this,A(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,c.a.PureComponent),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.value,n=e.onChange,r=e.popupContainer;return c.a.createElement(i.a,{value:t,onChange:n,className:"permission-group",dropdownClassName:"perm-group-dropDown",defaultActiveFirstOption:!1,getPopupContainer:function(){return"function"===typeof r?r():r}},Object.keys(W).map(function(e){return c.a.createElement(G,{value:e,key:e},W[e])}))}}])&&D(n.prototype,r),o&&D(n,o),t}())||C,Q=function(e){var t=e.data,n=e.handleOption;return c.a.createElement("div",{className:"ops-btn-group"},c.a.createElement("button",{type:"button",className:"ant-btn ant-btn-primary add add-btn",onClick:function(){n("add",t)}},c.a.createElement("span",null,"\u4fdd\u5b58")),c.a.createElement("button",{type:"button",className:"ant-btn cancel add-btn",onClick:function(){n("cancel",t)}},c.a.createElement("span",null,"\u53d6\u6d88")))},X=function(e){var t=e.data,n=e.handleDelete,r=e.clsName;return c.a.createElement("div",{className:r,style:{width:"100%",textAlign:"right"}},c.a.createElement("div",{className:"ops-btn-group"},c.a.createElement("span",{style:{color:"#1C6CDC",cursor:"pointer",marginRight:"95px"},onClick:function(){return n(t)}},"\u5220\u9664")))},Y=function(e){switch(e){case 0:return"visit";case 1:return"delete";case 2:return"edit";case 3:return"add";case 4:return"manage";default:return"visit"}},Z={permGroupType:0},$={permGroupType:1},ee={permGroupType:2},te={permGroupType:3},ne={permGroupType:4},re=function(e){switch(e){case"visit":return Z;case"edit":return ee;case"add":return te;case"delete":return $;case"manage":return ne;default:return Z}}},"../client/src/containers/ManageSpace/container/OrgRoleSelect/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return S});n("./core-js/modules/es6.regexp.to-string.js"),n("./core-js/modules/es7.symbol.async-iterator.js"),n("./core-js/modules/es6.symbol.js"),n("./core-js/modules/es6.object.set-prototype-of.js"),n("./antd/lib/input/style/index.js");var r,o=n("./antd/lib/input/index.js"),a=n.n(o),i=(n("./antd/lib/tooltip/style/index.js"),n("./antd/lib/tooltip/index.js")),s=n.n(i),c=(n("./core-js/modules/es6.string.iterator.js"),n("./core-js/modules/es6.array.from.js"),n("./core-js/modules/web.dom.iterable.js"),n("./antd/lib/select/style/index.js"),n("./antd/lib/select/index.js")),l=n.n(c),u=n("./react/index.js"),p=n.n(u),f=n("./mobx-react/index.module.js"),d=n("../client/src/utils/tools.js"),m=n("../client/src/assets/svg/arrow-down.svg");n("../client/src/containers/ManageSpace/container/OrgRoleSelect/style.styl");function y(e){return(y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=l.a.Option,S=Object(f.inject)("store")(r=Object(f.observer)(r=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=g(t).call(this,e),(n=!o||"object"!==y(o)&&"function"!==typeof o?v(r):o).disabledInput=function(e){e.target.value=""},n.addSubmitListener=function(){return document.addEventListener(n.evType,n.handleSubmit)},n.setShowText=function(e){if(e){var t=b(e),r=n.props.store.orgTree.getOrgRolesStr;"all"===t[0]&&(t=[]);var o=r(t);n.setState({showText:o})}},n.initSelectVal=function(e){return e&&e.length?e:["all"]},n.onChange=function(e){var t=n.state.selectVal;if(e.length>0){var r=e.indexOf("all");r>-1&&0===r?(e.splice(r,1),t=e):t=r>0?["all"]:e}else t=["all"];n.setState({selectVal:t},function(){n.updateData()})},n.showSelect=function(){n.setState({isShowSelect:!0}),n.setDropDownStyle()},n.updateData=function(){if(n.props.data.isNew){var e=n.state.selectVal;"all"===e[0]&&(e=[]),n.props.handleOrgRoles({type:"new",data:e,originData:n.props.data})}},n.handleSubmit=function(e){var t=e.target.closest(".job-family-dropdown"),r=e.target.closest(".job-family-select-container");if(!t&&!r){var o=n.state.selectVal;"all"===o[0]&&(o=[]);var a=n.props.data;if(a.isNew)return;JSON.stringify(a.orgRoles)!==JSON.stringify(o)&&n.props.handleOrgRoles({type:"change",data:o,originData:a}),n.setState({isShowSelect:!1}),document.removeEventListener(n.evType,n.handleSubmit)}},n.reset=function(e){n.setState({selectVal:["all"]}),e.preventDefault(),e.stopPropagation()},n.getOrgJobFamily=function(){return n.setShowText(n.props.data.orgRoles)},n.setDropDownStyle=function(){setTimeout(function(){if(n.select){var e=v(n).select,t=e.offsetTop+e.offsetHeight+10,r=e.offsetLeft;n.setState({dropdownStyle:{top:t,left:r}})}},100)},n.state={selectVal:n.initSelectVal(e.data.orgRoles),showText:"",id:+new Date,isShowSelect:e.data.isNew};var a=Object(d.q)().isMobile;return n.evType=a?"touchend":"mouseup",n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,p.a.Component),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){var t=this.state.selectVal,n=JSON.stringify(e.data.orgRoles);("[]"===n&&!e.data.isNew||"[]"!==n&&n!==JSON.stringify(this.state.selectVal))&&(t=e.data.orgRoles&&e.data.orgRoles.length?e.data.orgRoles:["all"],this.setState({selectVal:t})),this.setShowText(t)}},{key:"componentDidMount",value:function(){var e=this,t=document.createElement("div");t.className="ant-select-selection-cancel",t.addEventListener(this.evType,this.reset),this.cross=t,this.select.querySelector(".ant-select-selection--multiple").appendChild(t),Array.from(this.select.querySelectorAll(".ant-select-search__field")).forEach(function(t){t.addEventListener("input",e.disabledInput)}),this.getOrgJobFamily()}},{key:"componentWillUnmount",value:function(){var e=this;this.cross.removeEventListener(this.evType,this.reset),Array.from(this.select.querySelectorAll(".ant-select-search__field")).forEach(function(t){t.removeEventListener("input",e.disabledInput)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isAdmPerm,r=t.store,o=t.popupContainer,i=t.data,c=r.orgTree.jobFamily,u=this.state,f=u.isShowSelect,d=u.selectVal,y=u.dropdownStyle,b=u.showText,h="job-family-select-container pos J-hide".concat(f||i.isNew?"":" U-hide");return p.a.createElement("div",{ref:function(t){e.select=t},className:h,onClick:n?this.showSelect:null},p.a.createElement(s.a,{title:b,placement:"right"},p.a.createElement(l.a,{value:d,mode:"multiple",disabled:!n,className:"job-family-select J-hide",dropdownClassName:"job-family-dropdown",dropdownStyle:y,dropdownAlign:{offset:[0,4]},defaultActiveFirstOption:!1,onChange:this.onChange,onFocus:this.addSubmitListener,getPopupContainer:function(){return o}},p.a.createElement(w,{value:"all"},"\u6240\u6709\u4eba"),c.map(function(e){return p.a.createElement(w,{value:e.key,key:e.key},e.value)}))),p.a.createElement(a.a,{disabled:!n,readOnly:!0,className:"job-family-input J-hide",value:b,suffix:p.a.createElement(m.a,null)}))}}])&&h(n.prototype,r),o&&h(n,o),t}())||r)||r},"../client/src/containers/ManageSpace/container/OrgRoleSelect/style.styl":function(e,t,n){},"../client/src/utils/keyGenerator.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return"guide-storage-key-".concat(e)}}}]);
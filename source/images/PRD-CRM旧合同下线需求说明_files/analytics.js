!function(){"use strict";var u=!0,n="_MeiTuanALogObject",d=1,r="dianping_nova",h="waimai",m="group",c="demo",g="4.15.0",_="lxcuid",y="uuid",b="msid",w="cityid",A="utm",x="uid",S="userid",k="dpid",O="appnm",s="union_id",l="web_env",q="wxmp_env",v="pd_data",I=/^(([^? \r\n]*)\?)?([^?# \r\n]+)(#\S+)?$/,D=setTimeout,f=clearTimeout,p=1,a=2,j=3,E=4,e=5,i=6,o=20,C=7;function T(t){var n=t;return t&&t.code&&(n=t.code),n===p?"E_TIME_OUT":n===a?"E_NO_JSBRIDGE":n===j?"E_KNB_FAIL":n===E?"E_KNB_CB_FAIL":n===e?"E_KNB_NOT_EXIST":n===o?"ERR_PARAMS":n===i?"E_KNB_METHOD_NOT_SUPPORT":"unknown error: "+n}var M=200,N=100,F=500,R=600,P=-1,L="PV",B="PD",V="MC",J="SC",U="MV",Q="MVL",K="ME",W="BO",X="BP",$="event_type",z="val_act",H="val_cid",Z="index",G="element_id",Y="lx_inner_data",tt="pageView",nt="systemCheck",et="moduleClick",rt="order",it="order_id",ot=1e3,at=2,ut=0,ct=-1,st=0,ft=1,dt=10080,lt=1576800,vt=30,pt="_lx_utm",ht="_lxsdk",mt="_lxsdk_dpid",gt="_lxsdk_s",_t="latlng",yt="_lxsdk_rr",bt="_lxsdk_rc",wt="msid",xt="ms",St="category",kt="c",Ot="login_type",qt="lt",It="locate_city_id",jt="lci",At="sdk_ver",Dt="sv",Et="lxcuid",Ct="lxid",Tt="val_lab",Mt="val_bid",Nt="val_val",Ft="sf",Rt="__$lx_beacon_",Pt={category:u,union_id:u,lxcuid:u,app:u,sdk_ver:u,appnm:u,ch:u,lch:u,ct:u,did:u,dm:u,ua:u,msid:u,uuid:u,lat:u,log:u,net:u,os:u,idfa:u,pushid:u,subcid:u,mac:u,imsi:u,uid:u,logintype:u,cityid:u,apn:u,mno:u,pushSetting:u,wifi:u,bht:u,ip:u,vendorid:u,geohash:u,dtk:u,sns:u,android_id:u,version_code:u,brand:u,utm:u},Lt="post",Bt="__lxvalidation",Vt="report.meituan.com",Jt="wreport1.meituan.net",Ut="hreport.meituan.com",Qt=-3,Kt=function(){};function t(){return window}function Wt(){return t().XMLHttpRequest}var Xt,$t,zt=(Xt=Wt(),$t=Xt&&"withCredentials"in new Xt,function(){return $t}),Ht=/__lxvalidation=([\w.]+)/i,Zt=10,Gt=!1,Yt=void 0,tn=void 0,nn={};function en(t){var n,e=0===Se().indexOf("http:")?"http:":"https:",r=e+"//"+t+"/",i=Fn.search.match(Ht)||[],o=function(){var t=se.get(Bt);if(t){var n=t.split("|");return{mis:n[0],env:n[1]||""}}return t||{}}();return(n=i&&i[1]||o.mis||"")&&(se.top(Bt,n+"|",Zt),r=e+"//"+t+"/?mis="+n,rn.debug=n),r}var rn={nt:ut,inWXMP:!1,pageValLab:null,pageEnv:null,use_post:!1,cid:null,appnm:null,quit:null,useQR:!1,onWebviewAppearAutoPV:!0,positiveLab:!0,nativeSDKVer:null,cacheRetryMinutes:5,debug:!1},on=[];rn.on=function(t,n){on.push({name:t,fn:n})};var an={MVL:!(rn.emit=function(r,i,o,a,u){oe.each(on,function(t){var n=t.name,e=t.fn;n===r&&e(i,o,a,u)})}),QR:!1,getReqId:!1};function un(t){return!!an[t]}var cn={cv:"staging",web:1};function sn(t,n){t&&!n?delete cn[t]:cn[t]=n}function fn(t){return t?cn[t]:cn}function dn(t,n){ne.isStr(t)&&(nn[t]=n)}function ln(t){Gt=t}function vn(){return Gt===d}function pn(t){return Yt&&!t||(Yt=en(Vt)),Yt}var hn=[Jt,"wreport2.meituan.net"],mn=0;function gn(t){if(!tn||t){var n=hn[parseInt(mn++%12/6)];tn=en(n)}return tn}var _n=void 0;function yn(){if(Vn!==_n)return _n;var t=Rn.getElementsByTagName("meta");return _n="off"===he(t,"lx:native-report")}var bn=ut;function wn(){return bn}function xn(t){yn()||(bn=t)}var Sn=!1;function kn(t){Sn=!!t}var On=5e3,qn=50,In={MVL:{}},jn=void 0,An=void 0;function Dn(t,n,e,r){r=r||{};var i=n.category,o=e.req_id,a=e.val_cid,u=e.val_bid,c=r.tag;if(In[t]&&ne.isStr(t)&&ne.isStr(i)&&ne.isStr(o)&&ne.isStr(a)&&ne.isStr(u)){var s=i+"_"+o+"_"+a+"_"+u,f=In[t];ne.isObj(f[s])||(f[s]={env:ne.extend(!0,{},n),evs:e,lab:[]}),ne.isObj(c)&&(f[s].evs.tag=c);var d=ne.extend(!0,e.val_lab,{_seq:e.seq,_tm:e.tm});f[s].lab.push(d),function(){var t=0;for(var n in In){var e=In[n];for(var r in e){var i=e[r].lab;t+=i.length||0}}qn<t&&Tn()}()}}function En(t,n){var e=(n||{}).withUnload,r=In[t];if(ne.isObj(r)){var i=[];for(var o in r){var a=r[o],u=!1;if(a.lab&&a.lab.length){var c=a.env,s=a.evs,f={mv_list:a.lab,custom:{_withUnload:!!e}};s.val_lab=f;for(var d=0,l=i.length;d<l;d++){var v=i[d];if(!Cn(v,c)){v.evs.push(s),u=!0;break}}u||(c.evs=[s],i.push(c))}}i.length&&An.send(i),In[t]={}}}function Cn(t,n){var e=0,r=0;for(var i in t)t.hasOwnProperty(i)&&e++;for(var o in n)n.hasOwnProperty(o)&&r++;var a=r<e?t:n,u=e<=r?t:n;for(var c in a){if(!(-1<"evs|".indexOf(c+"|")))if(ne.isObj(a[c])&&ne.isObj(u[c])){if(Cn(a[c],u[c]))return!0}else if(a[c]!==u[c])return!0}return!1}function Tn(t){var n=(t||{}).withUnload;for(var e in In)En(e,{withUnload:n})}D(function t(){clearTimeout(jn);try{Tn()}catch(t){}finally{wn()===ut?jn=D(t,On):clearTimeout(jn)}},100);var Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nn=t(),Fn=location,Rn=document,Pn=Rn.domain,Ln=navigator,Bn=Ln.userAgent.toString(),Vn=void 0,Jn=Array.prototype,Un=Object.prototype,Qn=decodeURIComponent,Kn=encodeURIComponent,Wn=Gn(),Xn=Un.toString,$n=Un.hasOwnProperty;function zn(){}function Hn(t){return void 0===t?"undefined":Mn(t)}function Zn(t,n){return Hn(t)===n}function Gn(){return+new Date}function Yn(){return Math.random()}function te(t){return Zn(t,"number")}var ne={};function ee(t,e,r){var i=void 0,o=!0===t;return o||(r=e,e=t),e&&ne.isObj(e)||(e={}),r&&ne.isObj(r)||(r={}),oe.each(r,function(t,n){o&&ne.isObj(r[n])?(i=e[n],e[n]=ne.isObj(i)?i:{},ee(o,e[n],r[n])):e[n]=r[n]}),e}ne.trim=function(t){return t.replace(/^[\s\uFEFF\xA0\u3000]+|[\s\uFEFF\xA0\u3000]+$/g,"")},ne.now=Gn,ne.rnd=Yn,ne.hasOwn=function(t,n){return $n.call(t,n)},ne.extend=ee;var re=function(t){return t&&"[object Object]"===Xn.call(t)};ne.isObj=re;var ie=function(t){return Zn(t,"string")};ne.isStr=ie,ne.isFunc=function(t){return Zn(t,"function")},ne.attr=function(t,n){return t.getAttribute(n)},ne.parseQuery=function(t){var i={};if(t){var n=t.replace(I,function(t,n,e,r){return r||""}).split("&");return oe.each(n,function(t){var n=t.split("="),e=n[0],r=n.slice(1).join("")||"";e&&!$n.call(i,e)&&(i[e]=Qn(r))}),i}},ne.stringifyQuery=function(t){var r=[];return ne.isObj(t)&&oe.each(t,function(t,n){var e;ne.isFunc(t)||(Vn!==t&&((e=t)||!Zn(e,"object"))||(t=t||""),r.push(Kn(n)+"="+Kn(t)))}),r.join("&")},ne.genReqId=function(){return""+1e3*Gn()+parseInt(1e3*Yn())},ne.run=function(t,n){ae(t)?oe.each(t,n):n(t)},ne.on=function(t,n,e){t.addEventListener?t.addEventListener(n,e,!1):t.attachEvent&&t.attachEvent("on"+n,e)},ne.off=function(t,n,e){t.removeEventListener?t.removeEventListener(n,e,!1):t.detachEvent&&t.detachEvent("on"+n,e)};var oe={isArray:function(t){return"[object Array]"===Xn.call(t)}},ae=function(t){if(!t)return!1;var n=t.length;return!!oe.isArray(t)||!!(t&&te(n)&&0<=n)&&(!ne.isObj(t)||(!(1<n)||n-1 in t))};oe.isArrayLike=ae,oe.find=function(e,r,i){var o=void 0;return ae(e)&&oe.each(e,function(t,n){if(!0===r.call(i,t,n,e))return o=t,!1}),o},oe.filter=function(e,r,i){var o=[];return ae(e)&&oe.each(e,function(t,n){r.call(i,t,n,e)&&o.push(t)}),o},oe.toArray=function(t,n,e){var r=[];return ae(t)&&oe.each(t,function(t){r.push(n?n.call(e,t):t)},e),r};var ue=function(t,n,e){if(t){var r=void 0,i=void 0,o=void 0;if(ae(t))for(i=0,o=t.length;i<o&&!1!==n.call(e,t[i],i,t);i++);else for(r in t)if(ne.hasOwn(t,r)&&!1===n.call(e,t[r],r,t))break}};oe.each=ue;var ce=function(t,n,e){if(t){for(var r=[],i=0,o=t.length;i<o;i++){var a=n.call(e,t[i],i,t);r.push(a)}return r}};oe.slice=function(t,n,e){return Jn.slice.call(oe.toArray(t),n,e)},oe.reduce=function(t,n){if(ae(t)&&ne.isFunc(n)){var e=t,r=e.length>>>0,i=0,o=void 0,a=arguments;if(3===a.length)o=a[2];else{for(;i<r&&!(i in e);)i++;if(r<=i)return;o=e[i++]}for(;i<r;)i in e&&(o=n(o,e[i],i,e)),i++;return o}};var se={};function fe(t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e=void 0,r=void 0,i=void 0,o=void 0,a=void 0,u=0,c=0,s="",f=[];if(!t)return t;for(t=de(t);e=(a=t.charCodeAt(u++)<<16|t.charCodeAt(u++)<<8|t.charCodeAt(u++))>>18&63,r=a>>12&63,i=a>>6&63,o=63&a,f[c++]=n.charAt(e)+n.charAt(r)+n.charAt(i)+n.charAt(o),u<t.length;);switch(s=f.join(""),t.length%3){case 1:s=s.slice(0,-2)+"==";break;case 2:s=s.slice(0,-1)+"="}return s}function de(t){var n,e="",r=void 0,i=void 0,o=void 0;for(r=i=0,n=(t=(t+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,o=0;o<n;o++){var a=t.charCodeAt(o),u=null;a<128?i++:u=127<a&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),null!==u&&(r<i&&(e+=t.substring(r,i)),e+=u,r=i=o+1)}return r<i&&(e+=t.substring(r,t.length)),e}se.del=function(t,n){var e=t+"=;path=/;domain="+n,r=new Date;return r.setFullYear(1970),e+=";expires="+r.toUTCString(),Rn.cookie=e,!0},se.get=function(t){var n=Rn.cookie.match(new RegExp("(?:^|;)\\s*"+t+"=([^;]+)"));return Qn(n?n[1]:"")},se.set=function(t,n,e,r){r=r||Rn.domain;var i=void 0,o=void 0,a=void 0,u=t+"="+Kn(n)+";path=/;domain="+r;Vn===e||isNaN(e)||(i=new Date,o=60*parseInt(e,10)*1e3,a=i.getTime()+o,i.setTime(a),u+=";expires="+i.toUTCString());try{return Rn.cookie=u,!0}catch(t){return!1}},se.top=function(t,n,e){var r=Rn.domain,i=r.split("."),o=i.length,a=o-1,u=void 0,c=!1;for(n=""+n;!c&&0<=a&&(r=i.slice(a,o).join("."),se.set(t,n,e,r),u=se.get(t),Vn!==u&&(c=u===n),a--,!c););},se.del=function(t){return se.top(t,"",-100)};var le=window.btoa,ve=fe;sn("btoa",!!window.btoa),sn("atob",!!window.atob);try{ne.isFunc(le)&&le(de(Bn))===fe(Bn)&&(ve=function(t){return le(de(t))})}catch(t){}var pe=ve;function he(t,n){var e=void 0,r=oe.find(t,function(t){return ne.attr(t,"name")===n});return r&&(e=ne.attr(r,"content")),e}function me(){var t=Nn[n];return Nn[t]}var ge,_e=(ge=void 0,{update:function(t){ge=t},get:function(){return ge}});function ye(t){var n=t||Gn(),e=me();_e.update(n),Wn=n,e&&(e.l=n)}function be(){var t={duration:function(){var t=void 0,n=_e.get(),e=Gn();if(n)t=n,_e.update(e);else{var r=me(),i=Nn.performance&&Nn.performance.timing;(t=i&&i.requestStart)||(t=r?r.l:Wn),_e.update(e)}return e-t}()},n=void 0,e=rn.quit;return ne.isFunc(e)&&(n=e()||{}),t=ne.extend(t,n||{})}function we(t,n){n[it]}var xe=2032;function Se(){return Fn.protocol}/trident/i.test(Bn)||/msie/i.test(Bn)||!/mozilla.+webkit.+chrome.+/i.test(Bn)||(xe=6e3);var ke=0;function Oe(t,n){var e=/^((\d+\.)+\d+).*$/;if("string"!==Hn(t)||"string"!==Hn(n))return NaN;if(!e.test(t)||!e.test(n))return NaN;for(var r=t.replace(e,"$1").split("."),i=n.replace(e,"$1").split("."),o=0,a=Math.max(r.length,i.length);o<a;o++){if(!r[o]||!i[o])(!r[o]&&r||!i[o]&&i).push("0");var u=r[o].toString().length,c=i[o].toString().length;if(u!==c){var s=c<u?i:r;s[o]=Array(Math.abs(u-c)+1).join("0")+s[o].toString()}}var f=parseInt(r.join("")),d=parseInt(i.join(""));return f==d?0:d<f?1:-1}function qe(e,r,i,o,a,u,c){return function(t){if(!e){e=!0;try{if(r&&new Date-i<50)return;if(o)return;if(o=!1,!c()){var n=be();a("pageDisappear",n,{isAuto:6,shouldStore:!0})}Tn({withUnload:!0})}catch(t){}u&&u(t)}}}var Ie=4,je="",Ae=function(t){Ie=t},De=function(){return je&&3===Ie},Ee=function(t){je=t},Ce=function(){return je},Te=void 0;try{Te=Nn.sessionStorage}catch(t){Te=null}var Me=void 0;Me=ne.isFunc(Nn.atob)?Nn.atob:function(t){return t};var Ne={},Fe=function(t,n){if(Ne[t])try{Ne[t](n),D(function(){delete Ne[t]},0)}catch(t){}},Re=Bn,Pe=[{n:c,r:/lingxi\/demo\/\d+/i,v:Re},{n:r,r:/dp\/com\.dianping\.[\w.]+\/([\d.]+)/i,v:Re},{n:h,r:/\bmeituanwaimai-c\/\d+\./i,v:Re},{n:"moviepro",r:/\bmoviepro/i,v:Re},{n:"movie",r:/\bmaoyan\b/i,v:Re},{n:m,r:/\bmeituan \d+|meituangroup\/\d+\./i,v:Re}],Le=/android/i.test(Re),Be="",Ve=Le,Je=!1,Ue=!1,Qe="www",Ke=!1;if(/\bandroid|mobile\b|\bhtc\b/i.test(Re)){Qe="i",Ve=!0,oe.each(Pe,function(t){if(t.r.test(t.v))return Be=t.n,!1}),/\btitans(no){0,1}x\b/i.test(Re)&&(Je=!0);var We=/iphone/i.test(Re),Xe=/ipad/i.test(Re);(We||Xe)&&(Ue=!0),Be&&(We?Qe="iphone":/android/i.test(Re)?Qe="android":Xe&&(Qe="ipad"))}else{var $e=Re.match(/(msie) (\d+)|Trident\/(d+)/i);$e&&(Ke=!0,$e&&parseInt($e[2],10))}var ze,He,Ze,Ge,Ye=Nn.screen.width+"*"+Nn.screen.height,tr=Bn.replace(/^.*TitansX\/([\d.]+)\s.*$/i,"$1"),nr=!(!Ve||!/\sMMP\//.test(Re)),er=!(!Ve||!/\sMicroMessenger/.test(Re)||nr),rr=Je||/ knb\/\d+/i.test(Bn),ir=function(){return Ve&&rr&&!er&&!nr},or=Nn.JSON;or||(or={parse:function(t){return new Function("return ("+t+")")()},stringify:(ze=oe.isArray,He={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},Ze=function(t){return He[t]||"\\u"+(t.charCodeAt(0)+65536).toString(16).substr(1)},Ge=/[\\"\u0000-\u001F\u2028\u2029]/g,function t(n){if(null==n)return"null";if(Zn(n,"number"))return isFinite(n)?n.toString():"null";if(Zn(n,"boolean"))return n.toString();if(Zn(n,"object")){if("function"===Hn(n.toJSON))return t(n.toJSON());if(ze(n)){for(var e="[",r=0;r<n.length;r++)e+=(r?", ":"")+t(n[r]);return e+"]"}if(ne.isObj(n)){var i=[];for(var o in n)n.hasOwnProperty(o)&&i.push(t(o)+": "+t(n[o]));return"{"+i.join(", ")+"}"}}return'"'+n.toString().replace(Ge,Ze)+'"'})});var ar=or;function ur(t){return t}function cr(t){try{t(pr(this,fr),pr(this,sr))}catch(t){if(this._state===dr)return mr(new cr(ur),sr,t)}}cr.prototype.then=function(t,n){return function(t,n,e,r){Hn(e)===lr&&(n._onFulfilled=e);Hn(r)===lr&&(n._onRejected=r);t._state===dr?t[t._pCount++]=n:hr(t,n);return n}(this,new cr(ur),t,n)},cr.all=function(l){return new cr(function(r,e){for(var t,n,i,o=0,a=l.length,u=[],c=0,s=void 0,f=function(e){return function(t){if(e.value=t,e.state=fr,++c===e.len&&!s){var n=function(t){var n=[];for(o=0;o<a;o++)n.push(t[o]?t[o].value:void 0);return n}(u);r(n)}}},d=function(n){return function(t){n.value=t,n.state=sr,c++,s||(s=!0,e(t))}};o<a;o++)n=t=void 0,n=l[o],i={value:null,index:o,state:null,len:a},u.push(i),t=i,n.then?n.then(f(t),d(t)):cr.resolve(n).then(f(t),d(t))})},cr.resolve=function(n){if(n instanceof cr)return n;if(ne.isFunc(n.then)){var e=n.then.bind(n);return new cr(function(t,n){e(t,n)})}return new cr(function(t){t(n)})},cr.reject=function(e){return new cr(function(t,n){n(e)})};var sr=0,fr=1,dr=2,lr="function",vr="object";function pr(n,e){return function(t){return mr(n,e,t)}}function hr(e,r){return setTimeout(function(){var t=void 0,n=e._state?r._onFulfilled:r._onRejected;if(void 0!==n){try{t=n(e._value)}catch(t){return void mr(r,sr,t)}gr(r,t)}else mr(r,e._state,e._value)})}function mr(t,n,e){if(t._state===dr){t._state=n,t._value=e;for(var r=0,i=t._pCount;r<i;)hr(t,t[r++]);return t}}function gr(n,t){if(t!==n||!t){var e=void 0,r=Hn(t);if(null===t||r!==lr&&r!==vr)mr(n,fr,t);else{try{e=t.then}catch(t){return void mr(n,sr,t)}Hn(e)===lr?function(n,e,t){try{t.call(e,function(t){e&&(e=null,gr(n,t))},function(t){e&&(e=null,mr(n,sr,t))})}catch(t){e&&(mr(n,sr,t),e=null)}}(n,t,e):mr(n,fr,t)}return n}mr(n,sr,new Error("promise_circular_chain"))}cr.prototype._state=dr,cr.prototype._pCount=0;var _r,yr=!Ke&&Nn.indexedDB,br=Nn.IDBFactory,wr=yr&&ne.isFunc(yr.open)&&yr.constructor===br,xr=!1,Sr=void 0,kr=void 0,Or=void 0,qr=60*(parseInt(rn.cacheRetryMinutes)||5),Ir=!1,jr=0;function Ar(){return new cr(function(n,e){if(!wr)return e();if(xr)return n();try{(Sr=yr.open("_lxsdk_db",1e3)).onsuccess=function(t){xr=!0,kr=t.target.result,n()},Sr.onupgradeneeded=function(t){kr=t.target.result,(Or=kr.createObjectStore("cache",{keyPath:"id",autoIncrement:!0})).createIndex("evs","evs",{unique:!1}),Or.createIndex("type","type",{unique:!1})}}catch(t){xr=!1,e()}})}function Dr(){Ar().then(function(){var e=kr.transaction(["cache"],"readwrite").objectStore("cache"),t=e.openCursor(),r=[];t.onsuccess=function(t){var n=t.target.result;n?(r.push(n.value),n.continue()):(jr=r.length,r.forEach(function(t){!function(t){if("get"===t.type){var n=document.createElement("img"),e=Math.random();n.src="//"+Jt+"/?d="+pe("["+t.evs+"]")+"&t=1&r="+e+"&_lxsdk_rnd="+e,n.id=e,window["img_"+e]=n}else try{window.navigator.sendBeacon("//"+Vt,t)}catch(t){}}(t),e.delete(t.id)}))}})}Ar();var Er={add:function(t,e){Ar().then(function(){var n=kr.transaction(["cache"],"readwrite").objectStore("cache");100<jr&&n.clear(),t.forEach(function(t){t.evs.forEach(function(t){t[Y]=t[Y]||{},t[Y].fc=1}),n.add({type:e,evs:JSON.stringify(t)})})})},size:function(){},remove:function(){},check:Dr,startPoll:function(){!Ir&&wr&&(Ir=!0,_r=+new Date,Ar().then(function(){setTimeout(function t(){var n="_lxsdk_rc_img",e=Nn[n]=new Image;e.onload=function(){Dr(),Ir=!1,Nn[n]=null},e.onabort=e.onerror=function(){+new Date-_r>1e3*qr||(setTimeout(t,6e3),Nn[n]=null)},e.src="//"+Jt+"/?r="+Math.random()},6e3)}))}},Cr=3,Tr=150,Mr=5e3,Nr=3500,Fr=!1,Rr=[],Pr=[],Lr=0,Br=0,Vr=!rn.use_post,Jr=Le&&/baiduboxapp\//.test(Re)||/Mozilla.+AppleWebKit.+Chrome.+Safari.+/i.test(Re)&&!Ve,Ur=!Ke&&ne.isFunc(Ln.sendBeacon);function Qr(t,n,e,r,i){var o=[{project:"web-lx-sdk",pageUrl:Fn.href,resourceUrl:t,category:i?"jsError":"ajaxError",sec_category:"staging_"+n,level:"error",unionId:e,timestamp:ne.now(),content:""+r||""}],a=Hr("//catfront.51ping.com/api/log?v=1",Lt,"application/x-www-form-urlencoded");a&&(a.onerror=a.onreadystatechange=function(){},a.send("c="+encodeURIComponent(ar.stringify(o))))}function Kr(t,n){if(Cr<=Br)return!1;n=ne.extend({cb:zn},n||{});var e=pn();Vr=!rn.use_post;try{Vr?function(e,r){var t=Gn().toString(16)+Lr++,i=pn(),o=!1,a=!1,u=void 0,c=void 0,s=(n=e,f=[],d=[{l:At,s:Dt},{l:wt,s:xt},{l:St,s:kt},{l:Ot,s:qt},{l:Et,s:Ct},{l:It,s:jt}],oe.each(n,function(t){var n=ne.extend(!0,{},t);oe.each(d,function(t){Zr(n,t.l,t.s)});var e=[];oe.each(t.evs,function(r){r=ne.extend(!0,{},r),oe.each(r,function(t,n){if(-1<n.indexOf("val_")&&(r[n.replace("val_","")]=r[n],delete r[n]),Zr(r,"refer_url","urlr"),r[n]&&"url"===n){var e=Fn.hash;e&&(r.urlh=e),delete r[n]}}),e.push(r)}),n.evs=e,n[Ct]===n.uuid&&delete n.uuid;var r=n[kt];r&&(n[kt]=r.replace("data_sdk_","")),delete n.ua,f.push(n)}),f);var n,f,d;if(oe.each(s,function(t){c=t.uuid||t.lxid,delete t.ua}),!function(t){for(var n=t.length,e=n,r=0;r<n;r++)127<t.charCodeAt(r)&&e++;return 1.5*e<xe}(u=ar.stringify(s)))return oe.each(e,function(t){oe.each(t.evs,function(t){var n=t.val_lab;t.val_lab=ne.extend(!0,{custom:{_s:1}},n||{})})}),$r(i,e,{cb:function(t,n){try{r(t,n,"ajax-post")}catch(t){}t!==M&&(!o&&Ur&&(o=!0,Wr(i,e)),a||(a=!0,Qr(location.host+location.pathname,"ajax-post-"+t+"-"+n,c,u)))}});var l=pe(u),v=Kn(l),p=gn(!0);p+=-1<p.indexOf("?")?"&d="+v:"?d="+v,v.length,p=p+"&t=1&r="+t,Jr?$r(p,null,{method:"get",cb:function(t,n){try{r(t,n,"ajax-get")}catch(t){}t!==M&&(!o&&Ur&&(o=!0,Wr(i,e),Er.add(s,"get"),Er.startPoll()),a||(a=!0,Qr(location.host+location.pathname,"ajax-get-"+t+"-"+n,c,u)))}}):function t(n,e,r){var i=void 0,o=Rt+ke++;if(e=e||{},!(2<(r=r||0)))return Nn[o]=i=new Image,i.onload=function(){ne.isFunc(e.cb)&&e.cb(!0),Nn[o]=null},i.onabort=i.onerror=function(){Nn[o]=null,D(function(){t(n,e,++r)},100)},i.src=n,i;ne.isFunc(e.cb)&&e.cb(!1)}(p,{cb:function(t){if(t)try{r(M,200,"image-get")}catch(t){}else{try{r(Qt,0,"ajax-get-to-image-get")}catch(t){}!o&&Ur&&(o=!0,Wr(i,e),Er.add(s,"get"),Er.startPoll()),a||(a=!0,Qr(location.host+location.pathname,"image-get-500-0",c,u))}}})}(t,n.cb):$r(e,t,n)||Ke&&Xr(e,t,n)||Wr(e,t)&&n.cb(M)}catch(t){return Qr(Fn.path,"report-ajax",0,t.message,!0),!1}return!0}function Wr(t,n){var e=Ln.sendBeacon;return!!e&&(oe.each(n,function(t){oe.each(t.evs,function(t){t[Y]=ne.extend(!0,{},t[Y]),t[Y].beacon="1"})}),t=zr(t),e&&e.call(Ln,t,ar.stringify(n)))}function Xr(t,n,e,r){if(!Nn.XDomainRequest)return!1;try{var i=new XDomainRequest;return i.open(Lt,zr(t),!0),i.onload=function(){Br=0,e&&e.cb(M,200,"IEXDR-post"),Rr=[]},i.onerror=function(){Br++,e&&e.cb(F,0,"IEXDR-post")},i.ontimeout=function(){Br++,r||(!function(t,n,e,r){Rr=Rr.concat(n);var i=void 0,o=oe.reduce(Rr,function(t,n){return n.evs=t.evs.concat(n.evs),i=n.evs.length,Tr<i&&oe.slice(n.evs,i-Tr,i),n});if(Rr=[o],Pr.push(r),!Fr)var a=setInterval(function(){if(Cr<=Br)return clearInterval(a),!1;e(t,Rr,function(n){clearInterval(a),Fr=!1,oe.each(Pr,function(t){t&&t(n)})},!0)},Nr)}(t,n,Xr,e),Fr=!0)},i.timeout=Mr,i.send(ar.stringify(n)),!0}catch(t){return!1}}function $r(n,e,r,i){if(!zt())return!1;try{var o=r&&r.method||Lt,a=ne.isFunc(r.cb)&&r.cb||Kt,u=Hr(n,o,"text/plain");return u.onreadystatechange=function(){if(4===u.readyState){var t=u.status;200<=t&&t<400?(Br=0,a(M,u.status,"ajax-"+o),Rr=[]):i?a(P,u.status,"ajax-"+o):$r(n,e,r,!0),u.onreadystatechange=null}},u.onerror=function(){a(F,u.status,"ajax-"+o)},u.send(o===Lt&&ar.stringify(e)||null),!0}catch(t){return Qr(n,"runtime",0,t.stack||t.message),!1}}function zr(t){var n="_lxsdk_rnd="+(Gn().toString(16)+Lr);return-1===t.indexOf("?")?t+"?"+n:t+"&"+n}function Hr(t,n,e){var r=new(Wt());return r.open(n||Lt,zr(t),!0),r.timeout=Mr,r.setRequestHeader("Content-Type",e),r}function Zr(t,n,e){return $n.call(t,n)&&t[n]&&(t[e]=t[n],delete t[n]),t}var Gr="performance",Yr="getEntries",ti="pvid-"+parseInt(1e7*ne.rnd())+"-"+parseInt(1e7*ne.rnd());if(Nn&&Nn[Gr]&&Nn[Gr][Yr]&&ne.isFunc(Nn[Gr][Yr])&&/\[native code\]/.test(Nn[Gr][Yr].toString())){var ni=Nn[Gr][Yr]();ue(ni,function(t){try{t&&"script"===t.initiatorType&&/(lx|analytics)\.meituan\.net/.test(t.name)&&(sn("stime",t.duration||t.responseEnd-t.startTime),sn("pvid",ti))}catch(t){Qr(Fn.href,"",ti,t.stack||t.message,!0)}})}var ei=A+"_source",ri=A+"_medium",ii=A+"_term",oi=A+"_campaign",ai=A+"_content",ui=void 0,ci=!1;function si(t){if(!t)return Vn;var e=Vn,r=/^utm_(source|medium|term|content|campaign)$/;return oe.each(t,function(t,n){r.test(n)&&(!e&&(e={}),e[n]=t)}),e}function fi(t){if(t){ui=t;var n=ne.stringifyQuery(t);return se.del(pt,Pn),se.top(pt,n,dt,Pn),!0}return!1}function di(t,n){var o,e,r,i,a;return(!ui&&!ci||t)&&(t=t||Fn.href,n=n||Rn.referrer,a=t,(ui=si(ne.parseQuery(a))||function(t){var n=Vn,e=t.match(/^[\w-]+:\/\/([^/]+)(?:\/([^?]+)?)?/),a=e&&e[1];if(a){var u=ne.parseQuery(t),r="daum:q eniro:search_word naver:query pchome:q images.google:q google:q yahoo:p msn:q bing:q aol:query aol:q lycos:q lycos:query ask:q cnn:query virgilio:qs baidu:wd baidu:word alice:qs yandex:text najdi:q seznam:q rakuten:qt biglobe:q goo.ne:MT search.smt.docomo:MT onet:qt onet:q kvasir:q terra:query rambler:query conduit:q babylon:q search-results:q avg:q comcast:q incredimail:q startsiden:q go.mail.ru:q centrum.cz:q 360.cn:q sogou:query tut.by:query globo:q ukr:q so.com:q haosou.com:q auone:q m.baidu:word wap.baidu:word baidu:word Baidu:bs www.soso:w wap.soso:key www.sogou:query wap.sogou:keyword m.so:q m.sogou:keyword so.com:pq youdao:q sm.cn:q sm.cn:keyword haosou:q".split(" "),c="",s="";oe.each(r,function(t){var n=t.split(":"),e=n[0],r=n[1],i=u[r],o=-1<e.indexOf(".")?e:"."+e+".";if(-1<a.indexOf(o.toLowerCase())&&(s=e,c=i))return!1}),s&&((n={})[ei]=s,n[ri]="organic",c&&(n[ii]=c))}return n}(n))?fi(ui):(i=se.get(pt),ui=I.test(i)?si(ne.isStr(i)?ne.parseQuery(i):null):ui),ui||(o=void 0,e=se.get("__utmz"),(r=e&&e.match(/(utmc(tr|sr|cn|md|ct))=([^|()]+)/g))&&oe.each(r,function(t){var n=t.split("="),e=n[0],r=void 0,i=n[1]||"";"utmcsr"===e?r=ei:"utmccn"===e?r=oi:"utmcmd"===e?r=ri:"utmcct"===e?r=ai:"utmctr"===e&&(r=ii),r&&((o=o||{})[r]=i)}),fi(ui=o)),ci=u),ui}var li="__lxsdk_",vi=void 0;try{vi=Nn.localStorage}catch(t){vi=null}function pi(t){return li+t}function hi(){return{length:0,_data:{},setItem:function(t,n){return this.length++,this._data[t]=String(n)},getItem:function(t){return this._data.hasOwnProperty(t)?this._data[t]:Vn},removeItem:function(t){return this.length--,delete this._data[t]},clear:function(){return this.length=0,this._data={}},key:function(t){var n=[],e=this._data;return oe.each(e,function(t){ne.hasOwn(e,t)&&n.push(t)}),n[t]}}}var mi={get:function(t){t=pi(t);var n=vi.getItem(t);return n=Vn!==n?ar.parse(n):n},set:function(t,n){mi.del(t);try{return vi.setItem(pi(t),ar.stringify(n))}catch(t){}},keys:function(){for(var t=[],n=void 0,e=0;e<vi.length;e++)0===(n=vi.key(e)).indexOf(li)&&t.push(n.replace(li,""));return t},del:function(t){try{return vi.removeItem(pi(t))}catch(t){}},clear:function(){for(var t=this.keys(),n=0;n<t.length;n++)this.del(t[n])}};if(vi){if(vi){var gi="___lxtest";mi.nt=!0;try{mi.set(gi,1),1!==mi.get(gi)?mi.clear():mi.del(gi)}catch(t){try{mi.clear(),vi.setItem(gi,1),vi.removeItem(gi)}catch(t){vi=hi(),mi.nt=!1}}}}else vi=hi(),mi.nt=!1;var _i="tag",yi=18e5;function bi(t,n,e,r,i,o){var a={};a.c=t,a.k=n,a.v=e,a.t=r||+new Date,a.u=i||"",a.r=o||"",this.toJSON=function(){return ne.extend(!0,{},a)}}var wi={set:function(t,n,e){var r=void 0,i=[],o=mi.get(_i)||[];if(!ne.isStr(n)||""===n)return!1;for(var a=0,u=o.length;a<u;a++)xi(r=o[a])||(t===r.c?n!==r.k&&i.push(r):i.push(r));return r=new bi(t,n,e,+new Date),i.push(r.toJSON()),mi.set(_i,i),!0},get:function(t,n){var e=void 0,r=mi.get(_i);if(r&&r.length)return e={},oe.each(r,function(t){var n={};n[t.k]=t.v,xi(t)||(e[t.c]=ne.extend(!0,e[t.c]||{},n))}),t&&n?e[t]&&e[t][n]:t?e[t]:e},getAll:function(){var t=mi.get(_i),e={},r=void 0;return oe.each(t,function(t){var n=void 0;!xi(t)&&t.v&&(r=!0,(n={})[t.k]=t.v,e[t.c]=ne.extend(!0,e[t.c],n))}),r&&e},clear:function(n,e){if(!arguments.length)return mi.set(_i,[]);if(ne.isStr(n)){var t=mi.get(_i),r=[];oe.each(t,function(t){(e!==Vn&&t.k!==e||n!==t.c)&&r.push(t)}),mi.set(_i,r)}}};function xi(t){var n=ne.now();return yi<n-t.t}var Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ki=function(){var t=!("undefined"==typeof window||!window.navigator||!window.navigator.userAgent);function e(){return t?navigator.userAgent.toLowerCase():""}function r(t){for(var n={},e=t.replace(/\([^)]+\)/g,"").split(/\s+/),r="",i=0;i<e.length;i+=1){var o=e[i],a=o.lastIndexOf("/");if(a<0)r=o;else{var u=o.slice(0,a);r&&(u=r+" "+u,r=""),n[u]=o.slice(a-o.length+1)}}return n}function c(t){var n=t||"0",e=n.match(/^(\d*)/);return e?Number(e[1]):0}function o(t,n){for(var e="string"==typeof t?t.split("."):["0"],r="string"==typeof n?n.split("."):["0"],i=Math.max(e.length,r.length),o=0;o<i;o+=1){var a=c(e[o]),u=c(r[o]);if(u<a)return 1;if(a<u)return-1}return 0}function a(t){var n=-1,e=document.createElement("iframe");function r(){if(clearTimeout(n),e){var t=e.parentNode;t&&t.removeChild(e),e.onload=null,e.onerror=null,e=null}}e.style.display="none",e.onload=r,e.onerror=r,e.src=t,document.documentElement.appendChild(e),n=setTimeout(r,3e3)}function u(t){window.KNBTitansX&&window.KNBTitansX.sendMessage?window.KNBTitansX.sendMessage(t):window.prompt(t)}function s(t){window.prompt(t)}var n,i={getDefaultSender:function(){var i=Function.prototype,t=e();if(/ios|iphone|ipod|ipad/.test(t))i=a;else if(/android/.test(t)){var n=r(t);i=0<o(n.android,"4.2.0")?u:s}return function(t,n,e){var r="js://_?method="+t+"&callbackId="+e+"&args="+encodeURIComponent(n);i(r)}},compareVersion:o,parseUserAgent:r,canUseSlot:(n=r(e()),0<=o(n.titansx||n.titansnox,"11.13"))},f=i.getDefaultSender,d=i.compareVersion,l=i.parseUserAgent,v=i.canUseSlot,p="function"==typeof Symbol&&"symbol"===Si(Symbol.iterator)?function(t){return void 0===t?"undefined":Si(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":Si(t)},h={sender:null};function m(t){return"DPApp_callback_"+t}function g(t,n){var e=m(t),r=window[e];r&&(r(n),r.isSafeDelete&&(window[e]=void 0))}function _(t){var n=t||"DPApp";if(!window[n]||!window[n].KNBCore){var e={dequeue:window[n]&&window[n].dequeue||Function.prototype,KNBCore:!0,callback:g};window[n]=function(t,n){if(t&&"object"===(void 0===t?"undefined":p(t))){var e=t;return Object.keys(n).forEach(function(t){e[t]=n[t]}),e}return n}(window[n],e)}}var y,b={bindSender:function(t){"function"==typeof t&&(h.sender=t)},sendMessage:function(t,n,e,r){var i=v&&r?"KNBSlot"+r:void 0;_(i);var o=function(t){if(!/^[a-zA-Z0-9]*$/.test(t))throw new Error("illegal slot name");var n=Math.floor(1e3*Math.random());return+(Date.now().toString().slice(-5)+""+n)+(t?"_"+t:"")}(i),a=m(o),u=e||{};window[a]=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.status,e="action"===n?"handle":n;"0"===String(e)&&(e="success"),"handle"!==e&&"success"!==e&&(e="fail");var r=u[e]||Function.prototype;if("function"==typeof r)return r(t)},u.handle||(window[a].isSafeDelete=!0),h.sender&&h.sender(t||"",JSON.stringify(n||{}),o)},fireCallback:g,compareVersion:d,parseUserAgent:l};return y=b,"undefined"!=typeof window&&(h.sender=f(),window.KNBCore||(window.KNBCore=y)),b}(),Oi=!1,qi=[],Ii=void 0,ji=void 0;function Ai(t){ir()?c===Be?t(Vn,ji):Oi?t(Ii,ji):(qi.push(t),Oi?t(Vn,ji):new Promise(function(t){t({ready:function(t){return t()},use:function(t,n){n=n||{},ki.sendMessage(t,{data:n.data||{}},n,"LXAnalyticsSDK")}}),Oi=!0}).then(function(t){var n,e,r=ji=t;n=Ii,e=r,oe.each(qi,function(t){t(n,e)}),qi=[]})):t(e,ji)}var Di=500,Ei="getUserInfo";function Ci(){return new cr(function(o,r){Ai(function(t,n){var e=Nn.DPApp,i=D(function(){o({})},Di);n?n.ready(function(){n.use(Ei,{success:function(t){var n,e,r;f(i),o((e={},(r=(n=t)[k])&&"0"!==r||"dp"!==n.type?n[k]&&(e[k]=n[k]):e[k]=n[y],"dp"!==n.type&&n[y]&&(e[y]=n[y]),n.unionId&&(e.unionId=n.unionId),n.userId&&(e.userId=n.userId),e))},fail:function(t){f(i),r({code:j})}})}):e&&e[Ei]?e.ready(function(){e[Ei]({success:function(t){f(i);var n={};(t.dpid||t.userId)&&(n.dpid=t.dpid,n.userId=t.userId,n.unionId=t.unionId),o(n)},fail:function(t){f(i),r({code:a,res:t})}})}):r({code:a})})})}var Ti,Mi="t_lxid",Ni=void 0,Fi=(Ti=function(){for(var t=1*new Date,n=0;t===1*new Date&&n<200;)n++;return t.toString(16)+n.toString(16)},function(t){var n=(screen.height*screen.width).toString(16);return Ti()+"-"+Math.random().toString(16).replace(".","")+"-"+function(){var t=Re,n=void 0,e=void 0,i=[],r=0;function o(t,n){var e=void 0,r=0;for(e=0;e<n.length;e++)r|=i[e]<<8*e;return t^r}for(n=0;n<t.length;n++)e=t.charCodeAt(n),i.unshift(255&e),4<=i.length&&(r=o(r,i),i=[]);return 0<i.length&&(r=o(r,i)),r.toString(16)}()+"-"+n+"-"+Ti()+(t?"-tid":"")});function Ri(){var t={mem:Ni,cookie:se.get(Mi),ls:mi.get(Mi),ss:Te&&Te.getItem(Mi)},n=void 0;for(var e in t)t[e]&&(n=t[e]);for(var r in n||(n=Fi(!0)),t)if(!t[r])switch(r){case"mem":Ni=n;break;case"cookie":se.top(Mi,n,lt);break;case"ls":try{mi.set(Mi,n)}catch(t){Qr(location.href,"",n,t.stack||t.message,!0)}break;case"ss":try{Te&&Te.setItem(Mi,n)}catch(t){Qr(location.href,"",n,t.stack||t.message,!0)}}return n}function Pi(){return Math.floor(1+65535*ne.rnd()).toString(16).substring(1)}function Li(){var t=[],n=+new Date;return t.push(n.toString(16)),t.push(Pi()),t.push(Pi()),t.push(Pi()),t.join("-")}function Bi(t){var n=t.match(/(\d+)(?:\.(\d+)(?:\.(\d+))?)?/),e=[];if(n)for(var r=1;r<n.length;r++)e.push(parseInt(n[r]||0));return e}function Vi(t,n){var e=Bi(t),r=Bi(n);return!(e[0]<r[0])&&(!(e[0]===r[0]&&e[1]<r[1])&&!(e[0]===r[0]&&e[1]===r[1]&&e[2]<r[2]))}var Ji="getEnv",Ui=N,Qi=!1,Ki=!1,Wi=!1,Xi=!1,$i=[],zi=0,Hi=void 0,Zi=ne.now();function Gi(t){var n=(t._opts||{}).nativeOptions||{};return{cb:"_lx"+(100*ne.now()+zi++),mn:t._mn,cn:t._cn,data:t._d||{},options:n,ver:4}}function Yi(t,n,e,r,i){i=i||{};var o=this;o._cn=t,o._mn=n,o._d=e,o._cb=r,o._opts=i}function to(t,n,e,r,i){if(F===Ui||R===Ui)return r(Ui);var o=new Yi(t,n,e,Kt,i);if(M===Ui)o.send(function(t,n){r(t,n)});else if(N===Ui){if($i.push([o,r]),!Qi){Qi=!0;new Date;new Yi(t,Ji,{}).send(function(r,t){if(new Date,r&&T(r),r)Ui=F;else{if(Ui=M,xn(at),ne.isStr(t))try{t=ar.parse(t)}catch(t){}var n=(Hi=t).sdk_ver||"";Ki=Vi(n,"4.0.0"),Wi=Vi(n,"4.3.0"),Xi=!Vi(n,"4.8.0")}oe.each($i,function(t){var n=t[0],e=t[1];r?(T(r),e(r)):n.send(function(t,n){e(t,n)})})})}}else r(P)}function no(){return Ki}Yi.prototype.send=function(e){var r=this,i=Gi(r),t="statistics://_lx/?data="+Kn(ar.stringify(i)),n=ne.now();Hi&&5e3<n-Zi&&r._mn===Ji&&Ui===M?(r._mn,e(0,Hi)):(r._mn,i.cb,function(i,o,a){if(Be!==c||!window.JavaScriptBridge)return Ai(function(t,n){if(t)return a(t);var e=!1,r=D(function(){e=!0,a(p)},5e3);n.use(i,{data:o,success:function(t){if(f(r),!e)if("success"===t.status){var n=t.data||{};try{ne.isStr(n)&&(n=ar.parse(n)),a(Vn,n.data?n.data:t)}catch(t){a(t)}}else a(E)},fail:function(){f(r),e||a(E)}})});window.JavaScriptBridge.log(o,function(t){var n=t.data;try{ne.isStr(n)&&(n=ar.parse(n)),a(Vn,n.data?n.data:n)}catch(t){a(t)}})}("lxlog",t,function(t,n){t?(r._mn,i.cb,new Date,T(t)):(r._mn,i.cb,new Date),e(t,n)}))};var eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro={},io=ct,oo=[],ao=null,uo={s:b,l:_,a:O,w:"wxid",lch:"lch",u:{us:"utm_source",um:"utm_medium",uc:"utm_content",ucp:"utm_campaign",ut:"utm_term"},sc:"scene",v:"_lx_validcode",uni:s,di:k,ui:y,wxi:"wxunionid"},co="_lxsdk_wxenv_",so=["sdk_ver","ua"];function fo(t){var n=/(^\w+-\w+-\w+-\w+-\w+)/;if(n.test(t)){var e=t.match(n);se.top(ht,e[1],lt)}else t&&!/(^\w+\.\d+\.\d+\.\d+\.\d+)/.test(t)&&t.length<100?se.top(ht,t,lt):se.top(ht,"",-1)}var lo=0,vo=1,po=2,ho="|";function mo(t){var n=se.get(gt);return n?n.split(ho)[t]:""}function go(t,n,e){var r,i,o;se.top(gt,(r=n,i=e,(o=[]).push(t||_o()),o.push(r||yo()),o.push(i||bo()),o.join(ho)),vt)}function _o(){return mo(lo)}function yo(){return mo(vo)}function bo(){var t=0,n=mo(po);return isNaN(n)||(t=parseInt(n)),t<0?0:t}var wo,xo=void 0,So=(wo="_lxsdk_test",se.set(wo,"1"),!(-1<Rn.cookie.indexOf(wo)&&(se.del(wo),1)));function ko(){if(So)return xo=xo||0,++xo;var t=bo();return t=t||0,go(Vn,Vn,++t),t}function Oo(t,c){return new cr(function(a,u){D(function(){u({code:p})},3e3),to(t,"getEnv",{},function(t,n){if(t)u(t);else{ao=rn.nativeSDKVer=n.sdk_ver,o=rn.nativeSDKVer,ne.isStr(o)&&(an.MVL=-1<Oe(o,"4.14.0"),an.QR=-1<Oe(o,"4.14.0"),an.getReqId=-1<Oe(o,"4.12.0"));var e={uuid:y,msid:b,uid:x,dpid:k,appnm:O,union_id:s};for(var r in c=c||{},e){var i=e[r];n[r]&&(c[i]=n[r])}a(c)}var o})})}function qo(){var t=se.get(_t);if(t){var n=t.split(","),e=/^\d+\.\d{5,}$/;return 3!==n.length?null:e.test(n[0])&&e.test(n[1])?{lat:n[0],lng:n[1],tm:n[2]}:null}return null}function Io(t){return ne.extend(!0,{},t)}function jo(t){var n=Rn.getElementsByTagName("meta"),e=he(n,"lx:appnm"),r=he(n,"lx:defaultAppnm"),i=Be,o=Rn.domain,a=wn();return dn("appnm",e),dn("defaultAppnm",r),Ve&&Ee(Be||e||r||o),Je?e||(2===a?t:i||(r||o)):e||(i||(r||o))}function Ao(){var t,n,e,r,i,o,a=Be===m||Be===h||er||nr,u=(t=se.get(ht),n=se.get("iuuid")||se.get("uuid")||t,e=_o(),r=yo(),i=se.get(mt)||se.get(k),o={},n&&(o[y]=n),e&&(o[b]=e),t&&(o[_]=t),r&&(o[x]=r),i&&(o[k]=i),o),c=void 0,s={};a&&(s=function(t){var n={};if(I.test(t)){var e=ne.parseQuery(t);if(e[y]&&(n[y]=e[y]),e[w]&&(n[w]=e[w]),e[S]&&(n[x]=e[S]),e.__lxsdk_params){var i={},r=decodeURIComponent(decodeURIComponent(e.__lxsdk_params)).split(";"),o=uo.u,a=void 0;oe.each(r,function(t){var n=t.split(":"),e=n[0],r=n[1];if(r)if(o[e])(a=a||{})[o[e]]=r;else{if(!uo[e])try{r=Me(r)}catch(t){}i[e]=r}}),a&&(i[A]=a),n[q]=i}return n}return n}(Fn.href)),Be===m&&(s[y]?(u[y]?s[y]!==u[y]?sn("uuidState","2"):sn("uuidState","3"):(u[y]=s[y],sn("uuidState","1")),delete s[y]):sn("uuidState","0")),(c=ne.extend(u,s)).ct=Qe;var f=di();f&&(c[A]=f);var d=Ri();c[_]=d,c[y]||(c[y]=d),c[b]||(c[b]=Li(),go(c[b],c.uid||"")),c[y]&&fo(c[y]);var l=jo();ne.isStr(l)&&(c[O]=l);var v,p=(v=Bn.replace(/^.*([A-Za-z-]+)\/com\.(sankuai(?!\.meituan\.)|meituan(?!\.sankuai\.)|dianping|sankuai\.meituan|meituan\.sankuai)\.([.A-Za-z0-9-]+)\/(\d+[.\d]+).*$/,"$4"),/^\d+(\.\d+)+$/.test(v)?v:null);return p&&(c.app=p),c}function Do(n){return function(t){var e=t;return n!==t&&(e=ne.extend(n,t)),e.dpid&&e.uid?e:Ci().then(function(t){var n={};return t.dpid&&(n.dpid=t.dpid,t.userId&&(n.uid=""+t.userId),t.unionId&&(n.union_id=t.unionId)),e=ne.extend(e,n)},function(t){return T(t),e})}}var Eo=function(t){en();var a=Ao();if(ir()){var n=Oo(t,a);return r===Be&&(n=n.then(Do(a),function(t){return T(t),Do(a)()})),n.then(function(t){var n=jo(t[O]),e=t[k],r=t[y],i=t[s],o=t;return t!==a&&(o=ne.extend(a,t)),ne.isStr(n)&&(o[O]=n),r&&fo(r),e&&se.top(mt,e,lt),i&&se.top("_lxsdk_unoinid",i,lt),o},function(t){return t&&T(t),a})}var e,u=Io(a),c=u[q];return(e=ne.now(),new cr(function(t){if(er||nr)if(/miniProgram/i.test(Bn))t(!0);else if(Nn.WeixinJSBridge&&Nn.WeixinJSBridge.invoke)t("miniprogram"===Nn.__wxjs_environment);else{var n=setTimeout(function(){rn.wx_t=ne.now()-e,t(!1)},5e3);Rn.addEventListener("WeixinJSBridgeReady",function(){clearTimeout(n),rn.wx_t=ne.now()-e,t("miniprogram"===Nn.__wxjs_environment)})}else t(!1)})).then(function(t){if(rn.inWXMP=t){if(rn.nt=nr?7:6,"object"===(void 0===Te?"undefined":eo(Te))&&!ne.isObj(c))for(var n in c={},Te)if(0===n.indexOf(co)){var e=n.slice(co.length),r=Te[n];if(e===A)try{c[A]=JSON.parse(r)}catch(t){}else c[e]=r}var i=function(t){var n=uo[t]||t,e=c[t];e&&(u[l]=u[l]||{},u[n]&&(u[l][n]=u[n]),oe.find(so,function(t){return t===n})||(u[n]=e));try{Te.setItem(co+n,re(e)?JSON.stringify(e):e)}catch(t){}};for(var o in c)i(o)}else rn.nt=ut;return delete u[q],cr.resolve(u)})};function Co(t){return ft===io?cr.resolve(Io(ro)):st===io?new cr(function(n){var t;t=function(t){n(t)},oo.push(t)}):(io=st,Eo(t).then(function(e){return ro=ne.extend(!0,{},e||{}),io=ft,oe.each(oo,function(t,n){ne.isFunc(t)&&oo[n](e)}),e}))}var To=/([a-fA-F0-9-]+)(\.\d+)/,Mo="_hc.v",No=525600,Fo="",Ro=/(dper|dianping|51ping)\.com/.test(Pn);function Po(){return function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}()+"."+Math.round(+new Date/1e3)}function Lo(){return!Fo&&Ro&&(Fo=function(){var t=se.get(Mo);if(t||(t=Po(),se.top(Mo,t,No)),t){var n=t.match(To);return n?n[1]:""}return""}()),Fo}var Bo=function(){var t=void 0;try{var n=document;if(n.querySelectorAll){var e=n.querySelectorAll("head script"),r=n.querySelectorAll("body script"),i=[];oe.each(e,function(t){i.push(t)}),oe.each(r,function(t){i.push(t)});for(var o=0;o<i.length;o++){var a=i[o].innerHTML.match(/\[['"]\s*_setPageId\s*['"]\s*,\s*(\d+)\s*\]/);if(a){t=a[1];break}}}}catch(t){}return function(){return t}}();function Vo(t){var n=this;n.s=t;var e=void 0,r=mi.get(Ft)||{s:t,d:n.d};r.s!==t?(mi.del(Ft),e=n.d=[]):e=n.d=r.d||[],n.l=e&&e.length||0}var Jo=null;function Uo(){return Jo}function Qo(t){return Te&&ne.isFunc(Te.getItem)?Te.getItem(t):se.get(t)}function Ko(t,n){return Te&&ne.isFunc(Te.setItem)?Te.setItem(t,n):se.top(t,n,vt)}function Wo(t){Ko(bt,t)}function Xo(){var t=Qo(bt);return t||""}function $o(t){Ko(yt,t)}function zo(){var t=Qo(yt);return t||""}var Ho="QR",Zo=20480/30,Go=2592e5,Yo={},ta=void 0,na=!(Vo.prototype={constructor:Vo,set:function(t,n,e){var r=this,i=r.l,o=r.d,a=r.indexOf(t),u={scid:0<i?o[i-1].scid+1:0,cid:t,bid:n,sf:e};-1<a?o.splice(a,i-a,u):o.push(u),r.l=o.length,mi.set(Ft,{s:r.s,d:o})},indexOf:function(t){for(var n=this.d||[],e=0,r=n.length;e<r;e++){if(n[e].cid===t)return e}return-1},toJSON:function(){var t=this.d;return t&&t.length?t:null}}),ea=[],ra=!1,ia=["ua"].join("|")+"|",oa=["lxcuid","category","sdk_ver","utm","uuid","msid","ct","appnm"],aa=["utm","seq","tm","nm","val_ref","lng","val_lab","req_id","lat","s_from","val_cid","val_bid"];function ua(){if(!na){var t=Gn(),n=[ta.opts.cid],e=0,r=function(t,n){if(!t)try{var e=n;if(ne.isObj(n)||(e=JSON.parse(n)),0===e.code)(function t(n){var e=0,r=0;var i=[];var o=Gn()-Go;for(var a in n)e+=n[a].bids.length,r+=n[a].bids.length;if(!r)return;for(var u in Yo)e+=Yo[u].bids.length,Yo[u].tm<o&&i.push(u);Zo<e&&(i.length?(oe.each(i,function(t){delete Yo[t]}),t(n)):Yo={});Yo=ne.extend(Yo,n);setTimeout(function(){mi.set(Ho,Yo)},10)})(function(t){if(!ne.isObj(t))return;var i={},o=Gn();return oe.each(t,function(n,r){i[r]=i[r]||{cid:r,tm:o,bids:[],envInfo:(n.envInfo||{}).quickReport||[],evsInfo:(n.evsInfo||{}).quickReport||[]},delete n.envInfo,delete n.evsInfo;var t=function(e){var t=n[e].quickReport||[];oe.each(t,function(t){var n={tp:e,id:t};i[r].bids.push(n)})};for(var e in n)t(e)}),i}(e.data)),na=!0;else{if(304!==e.code)return void e.message;na=!0}}catch(t){}};for(var i in Yo)e++,t=Math.min(Yo[i].tm,t);0===e&&(t=0);var o=("https://ocean.sankuai.com/delivery/api/web-configFile?\n                timestamp="+t+"\n                &cidList="+n.join(",")+"\n                &rnd="+Math.random()).replace(/\s/g,"");"https"===Se()&&$r(o,{},{cb:r})||function(t,n,e,r){var i=void 0,o=(r=r||{}).outTime||5e3,a="__lxsdk_jsonp_callback_"+Math.random().toString(16).slice(2,10);/^([^?]+)\?/.test(t)?t=t.replace(/^([^?]+)\?/,"$1?"+n+"="+a+"&"):/^([^#]+)#/.test(t)?t=t.replace(/^([^#]+)#/,"$1?"+n+"="+a+"#"):t+="?"+n+"="+a;var u=Rn.createElement("script");u.src=t,Nn[a]=function(t){clearTimeout(i);try{e(Vn,t)}catch(t){}delete window[a]},u.type="application/javascript",u.charset="utf-8",u.setAttribute("async","true"),Rn.body.appendChild(u),i=D(function(){try{e("timeout")}catch(t){}delete window[a]},o),D(function(){Rn.body.removeChild(u)},0)}(o,"callback",r)}}function ca(t,n,e){if(!rn.useQR)return!1;if(!Yo[n])return!1;for(var r=Yo[n].bids,i=0,o=r.length;i<o;i++){var a=r[i];if(a.tp==t){if(t===L&&a.id==n)return!0;if(a.id==e)return!0}}return!1}function sa(t,n,e){var r={},i={};if(t&&Yo[t]){var o=oa.concat(Yo[t].envInfo||[]),a=aa.concat(Yo[t].evsInfo||[]);oe.each(o,function(t){n.hasOwnProperty(t)&&n[t]&&(i[t]=n[t])}),oe.each(a,function(t){e.hasOwnProperty(t)&&ia.indexOf(t+"|")<0&&(r["evs."+t]=e[t])});var u=ne.extend(!0,i,r);ea.push(u),f(ra),ra=setTimeout(function(){$r("https://"+Ut+"/?rnd="+Math.random(),ea,{nm:e.nm,cb:Kt}),ea=[]},0)}}!function(){var t=mi.get(Ho);if(t)try{var n=void 0;n=ne.isObj(t)?t:JSON.parse(t),Yo=ne.extend(!0,Yo,n)}catch(t){}}(),function n(){var e=_u();return new cr(function(t){e?t(e):setTimeout(function(){n().then(t)},100)})}().then(function(t){ta=t,rn.useQR&&(Se(),ua())});var fa="category",da="setEvs",la=5e3,va={overlen_cutoff:1},pa={code:200,status:200,type:"native-report"},ha={code:Qt,status:200,type:"native-report"},ma="val_bid",ga="page",_a="s_from",ya="lat",ba="lng",wa=[],xa=Rn.referrer,Sa=[],ka=void 0,Oa=void 0,qa={},Ia=0,ja=0,Aa=function(t,n,e){if(e){var r={},i={custom:r};r[n]=e,t=ne.extend(!0,t||{},i)}return t},Da=function(t,n){var e,r,i=(e=t,r="fn_"+parseInt(1e6*Yn()),Ne[r]=e,r);return D(function(){Fe(i,{code:-1,status:408,type:"overtime"})},te(n)&&n||2e3),i};function Ea(t,n){var e=this;e.env=n||{},e.currentEvs={},e.opts=ne.extend(!0,{},t),wa.push(e),An=e}var Ca=Ea.prototype;function Ta(t){return 6===t._ptpvs}function Ma(){return!Ia}function Na(t){return(t=t||{})&&!ne.isObj(t)&&(t={cid:""+t}),t}function Fa(e,r,i,o,a){var u=this,c=Da((a=a||{}).callback,a.callbackTimeout),t=a,n=t.isLeave,s=t.currentPageInfo,f=t.mvDelay,d=t.sf,l=ne.isStr(a.category),v=ca(e,r,i);if(wn()===ut){var p=Ua(u),h=za(wi.getAll()),m=Wa(e,r,i,o,null,a),g=m.body,_=m.ev,y=Ha(p,g,h,a);if(v&&sa(r,p,_),e===U){if(f&&!l)return ne.run(g,function(t){t[Y]&&(t[Y].md=f),Sa.push(t)}),void D(function(){if(Sa.length){var t=Ha(p,Sa,h,a);u.send(t,{cbkey:c}),Sa=[]}},f*ot)}else{if(e===Q)return void Dn.call(u,Q,p,g[0],{tag:h});if(e===V){if(s&&function(t,n){ne.isObj(t[Tt])||(t[Tt]={});t[Tt][ga]=n}(_,u._cpi),y=Ha(p,g,h,a),n){var b=be(),w=Ka(B,r,Vn,b);y.evs.push(w),Wo(r),$o(ka)}Ve&&d&&Uo().set(r,i,d)}}u.send(y,{nm:e,cbkey:c})}else{var x=u.env,S=void 0,k=Qa({isQuickReport:v}),O=[$a.call(u,e,r,i,o)];if(e===V&&(S={sf:d},u._cpi&&(S.cpi=u._cpi),O=[$a.call(u,e,r,i,o,null,S)],n)){var q=be(),I=$a.call(u,B,r,null,q);O.push(I),Wo(r),$o(ka)}x[A]&&(O=function(t,n){if(!oe.isArray(t)||!t.length)return t;if(!ne.isObj(t[0][Tt]))return t[0][Tt]={page:{utm:n[A]}},t;if(!ne.isObj(t[0][Tt][ga]))return t[0][Tt][ga]={utm:n[A]},t;return t[0][Tt][ga]=ne.extend(!0,t[0][Tt][ga],{utm:n[A]}),t}(O,x));var j=ne.isStr(a.category)&&a.category||x[fa];new Date;to(Ja(j),da,O,function(t,n){t?(xn(ut),T(t),new Date,Fe(c,ha),Fa.call(u,e,r,i,o,a)):(Fe(c,pa),new Date)},{nativeOptions:k})}}function Ra(){return ka||(ka=La()),ka}function Pa(t){var n=mi.get(v);return n&&t&&mi.del(v),n}function La(){return ne.now().toString(16)+"-"+Math.floor(65535*ne.rnd())+"-"+Math.floor(65535*ne.rnd())}function Ba(t){var n,e,r=t.nm;L===r?(t.nm="mpt",t.val_act="pageview"):B===r?(t.nm="report",t.val_act="quit"):(t.nm="mge",t.event_type=(n=r,(e={})[W]="order",e[X]="pay",e[V]="click",e[K]="return",e[U]="view",e[J]="click",e[n]||r)),t.nt=0,t.isauto=8}function Va(t){var n="data_sdk_";return 0!==t.indexOf(n)&&(t=n+t),t}function Ja(t){var n="data_sdk_";return 0===t.indexOf(n)&&(t=t.replace(n,"")),t}function Ua(t){var n=ne.extend(!0,{},t.env);n[fa]=Va(n[fa]);var e=_o();e||go(e=Li(),n.uid||""),rn.inWXMP&&ne.isObj(n[l])&&ne.isObj(t.env[l])?n[l][b]=t.env[l][b]=e:n[b]=t.env[b]=e;var r=n.utm,i={ua:Re,sdk_ver:g,ch:r&&r.utm_source?r.utm_source:"web",sc:Ye};i[At]=g,rn.debug&&(i._misid=rn.debug);var o=ne.extend(!0,i,n);return Je&&!yn()&&delete o.ch,o}function Qa(t){return(t=t||{}).isQuickReport=un("QR")&&!!t.isQuickReport,t}function Ka(t,n,e,r,i,o){i=i||C,o=o||{};var a,u,c,s=ko(),f=qo(),d=ne.isObj(r)&&r.custom||{},l=void 0,v=L===t,p=W===t,h=X===t,m={nm:t,tm:ne.now(),nt:rn.nt,isauto:i,val_cid:n,req_id:Ra(),seq:s,lx_inner_data:ne.extend(!0,{},fn())};if(v){var g=Fn.href;m.url=g,(l=xa)&&(m.refer_url=l),i===C&&(xa=g)}(p||v||h)&&Ve&&(a=m,(u=Uo().toJSON())&&(a[_a]=u),m=a),r=Aa(r,"_hguid",Lo()),(c=r)&&c.custom&&"v3"===c.custom._api&&!n&&(m.val_cid=Rn.title||Fn.pathname,r=Aa(r,"_cid",1)),ne.isObj(d)&&"v3"===d._api&&(m[Y]._api="v3",delete d._api),Ve&&o.sf&&(m[Y].use_sfrom=1);try{m[Y].ht=yn()}catch(t){}return v&&(r=Aa(r,"_hpid",Bo()),r=Aa(r,"_lx_cv","staging"),rn.wx_t&&(r=Aa(r,"_wx_t",rn.wx_t))),e&&(m[ma]=e),f&&(m[ya]=f.lat,m[ba]=f.lng),r&&(JSON.stringify(r).length>=la&&(r=va),(m[Tt]=r).lat&&r.lng&&(m[ya]=r.lat,m[ba]=r.lng)),m}function Wa(t,n,e,r,i,o){var a=Ka(t,n,e,r,i,o);return{body:function(t){{if(Sa&&0<Sa.length){var n=Sa;return Sa=[],n.push(t),n}return[t]}}(a),ev:a}}function Xa(t){return Ue?t:Le&&!Xi?t:Kn(t)}function $a(t,n,e,r,i,o){i=i||C;var a=(o=o||{}).fromWA,u=this.env.appnm,c=qo(),s=!Sn,f=void 0,d={nm:t,tm:ne.now(),nt:at,isauto:i,val_cid:n,shouldCover:s,lx_inner_data:ne.extend(!0,{},fn())};d=ne.extend(!0,d,qa),Oa&&(d.req_id=Oa),o.sf&&(d[Y].use_sfrom=1,d._sf=o.sf);var l=void 0,v=ne.extend(!0,{},r||{}),p=L===t;if(p){var h=Xa(Fn.href);l={ua:Re,url:h,_fromWA:!!a};var m=di();m&&m.utm_source&&(l.utm=m),(f=xa)&&(l.refer_url=Xa(f)),i===C&&(xa=h)}else l={};return d=ne.extend(d,{web_cid:n,web_req_id:Ra(),web_refer_cid:Xo(),web_refer_req_id:zo(),web_first_pv:!!(ja<=1&&Nn.history&&1===Nn.history.length)}),oe.each({web_req_id:Ra(),web_sdk_ver:g,lxcuid:Ri(),web_appnm:u},function(t,n){ne.isStr(t)&&(l[n]=t)}),ne.isObj(v.custom)&&"v3"===v.custom._api&&(l.web_appnm=function(t){if(ne.isStr(t))return t&&nn[t]||nn}("appnm"),d[Y]._api="v3",delete v.custom._api),o.cpi&&!v.page&&(v.page=o.cpi),v.custom=ne.extend(!0,v.custom,l),v=Aa(v,"_hguid",Lo()),p&&(v=Aa(v,"_hpid",Bo())),t!==J||Wi?no()||Ba(d):no()?d.nm=V:Ba(d),c&&(d[ya]=c.lat,d[ba]=c.lng),e&&(d[ma]=e),v&&JSON.stringify(v).length>=la&&(v=va),d[Tt]=v,p&&!no()&&(d.val_val=v,delete d[Tt]),d}function za(t){return t}function Ha(t,n,e,r){var i=(r=r||{}).category;return oe.isArrayLike(n)||(n=[n]),ne.run(n,function(t){t&&e&&(t.tag=e)}),t.evs=n,ne.isStr(i)&&(t[fa]=Va(i)),t}function Za(t,n){var e={};return e[it]=n,ne.extend(e,t)}function Ga(e,t,n,r){var i,o,a,u,c=(i=t,o=n,a=r,u=null,!ne.isStr(i)||o||a?ne.isObj(i)&&ne.isStr(o)&&!a&&(u=o,o=null):(u=i,i=null),u&&(a=ne.extend({cid:u},a||{})),{lab:i,env:o,opts:a}),s=c.lab,f=c.env;r=Na(c.opts);var d=e.opts.cid=r.cid||e.opts.cid;r=ne.extend({cid:d},r),f&&ne.isObj(f)&&oe.each(f,function(t,n){e._dt.set(n,t,Vn,!0)}),e._dt.pageView(s,r)}function Ya(t,n){this.env=t||{},this.opts=n||{},this._t=[]}Ca.set=function(t,n,e,r){var i=this,o=i.env,a=rn.inWXMP&&ne.isObj(o[l]);if(ne.isObj(t))ue(t,function(t,n){i.set(n,t)});else if(t!==fa||n)if(!r&&a&&o[l][t]?o[l][t]=n:o[t]=n,"utm"===t&&ne.isObj(n)&&!a&&fi(n),dn(t,n),O===t&&Ee(n),at!==wn()||Pt[t])ne.isFunc(e)&&e(o,i);else{var u={},c=Ja(o[fa]);u[t]=n,to(c,"setEnv",u,function(){ne.isFunc(e)&&e(o,i)})}},Ca.get=function(t,n){ne.isFunc(n)&&n(this.env[t],this)},Ca.pageView=function(e,r){r=Na(r)||{};var t=void 0,i=this,n=r.fromWA,o=r.withlab,a=Da(r.callback,r.callbackTimeout),u=i.opts.cid,c=r.cid||u,s=r.isauto||C,f=r.isAutoInit,d=r.reportStatus,l=u&&!(Ta(i)||f)&&!Ma(),v=d===ut||ut===wn(),p=i.env;if(n&&o?(s=6,e=this._cpi||{}):this._cpi=e,l&&!vn()){var h=be();t=v?Ka(B,u,null,h):$a.call(i,B,u,null,h),Wo(c),$o(ka)}ln(0),u&&(Ta(i)||Ma())||(ka=La()),i.opts.cid=c;var m=ca(L,c);if(v){var g=Ua(i),_=za(wi.getAll()),y=Wa(L,c,null,e,s),b=y.body;l&&t&&b.unshift(t);var w=Ha(g,b,_,r);m&&sa(c,g,y.ev),this.send(w,{nm:L,cbkey:a}),ja++,f||Ia++}else{var x=Qa({isQuickReport:m,shouldCoverCid:!0,needCachePD:!0}),S=[$a.call(i,L,c,null,e,s,{fromWA:n})];l&&t&&S.push(t),to(Ja(ne.isStr(r.category)&&r.category||p[fa]),da,S,function(t,n){t?(xn(ut),Fe(a,ha),i.pageView(e,r),Qr(Fn.href,"native-report-error",i.env.union_id,T(t))):(ja++,f||Ia++,Fe(a,pa))},{nativeOptions:x})}i.currentEvs={cid:c,req_id:Ra(),refer_cid:Xo(),refer_req_id:zo()},i._ptpvs=f?6:C,ye()},Ca.pageDisappear=function(e,r){r=ne.extend({},r);var i=this,t=r.cid||i.opts.cid,n=r.shouldStore;ln(d);var o=be();if(e=ne.extend(o,e),Wo(t),$o(ka),ut===wn()||n){var a=Ha(Ua(i),Ka(B,t,null,e,r.isAuto),za(wi.getAll()),r);if(Ve&&n&&mi.nt){De()&&(rn.inWXMP&&ne.isObj(a[l])&&a[l][O]?a[l][O]=Ce():a[O]=Ce());var u=Pa()||[];oe.isArray(u)?mi.set(v,u.concat(a)):mi.set(v,[a])}else i.send(a)}else{var c=this.env,s=Qa(),f=[$a.call(i,B,t,null,e)];to(Ja(ne.isStr(r.category)&&r.category||c[fa]),da,f,function(t,n){t&&(xn(ut),i.pageDisappear(e,r))},{nativeOptions:s})}Tn()},Ca.systemCheck=function(e,r,i){i=ne.extend({},i);var o=this,t=i.cid||o.opts.cid,n=!!i.isLXLog;if(ut===wn()){var a=Ua(o),u=Ha(a,Wa(J,t,e,r).body,za(wi.getAll()),i);n&&(a.category="others"),this.send(u)}else{var c=o.env,s=Qa(),f=[$a.call(o,J,t,e,r)],d=ne.isStr(i.category)&&i.category||c[fa];n&&(d="others"),to(Ja(d),da,f,function(t,n){t&&(xn(ut),o.systemCheck(e,r,i))},{nativeOptions:s})}},Ca.moduleView=function(t,n,e){var r=(e=ne.extend({},e)).cid||this.opts.cid;e.mvDelay=this.opts.mvDelay||e.delay,Fa.call(this,U,r,t,n,e)},Ca.moduleViewList=function(t,n,e){var r=(e=ne.extend({},e)).cid||this.opts.cid;e.mvDelay=this.opts.mvDelay||e.delay;var i=un("MVL");wn()!==at||i?Fa.call(this,Q,r,t,n,e):Fa.call(this,U,r,t,n,e)},Ca.moduleClick=function(t,n,e){var r=(e=ne.extend({},e)).cid||this.opts.cid;e&&e.isLeave&&ln(d),e.currentPageInfo=e.withPageInfo&&ne.isObj(this._cpi)?this._cpi:Vn,Fa.call(this,V,r,t,n,e)},Ca.moduleEdit=function(t,n,e){var r=(e=ne.extend({},e)).cid||this.opts.cid;Fa.call(this,K,r,t,n,e)},Ca.order=function(e,r,i){i=ne.extend({},i);var o=this,a=Da(i.callback,i.callbackTimeout),t=i.cid||o.opts.cid;we(0,r);var n=ca(W,t,e);if(ut===wn()){var u=Ua(this),c=Wa(W,t,e,r),s=c.body,f=za(wi.getAll()),d=Ha(u,s,f,i);n&&sa(t,u,c.ev),this.send(d,{cbkey:a})}else{var l=this.env,v=Qa({isQuickReport:n}),p=[$a.call(o,W,t,e,r)];to(Ja(ne.isStr(i.category)&&i.category||l[fa]),da,p,function(t,n){t?(xn(ut),Fe(a,ha),o.order(e,r,i)):Fe(a,pa)},{nativeOptions:v})}},Ca.pay=function(e,r,i){i=ne.extend({},i);var o=this,a=Da(i.callback,i.callbackTimeout),t=i.cid||o.opts.cid;we(0,r);var n=ca(X,t,e);if(ut===wn()){var u=Ua(o),c=Wa(X,t,e,r),s=c.body,f=za(wi.getAll()),d=Ha(u,s,f,i);n&&sa(t,u,c.ev),this.send(d,{cb:function(t,n,e){wi.clear(),Fe(a,{code:t,status:n,type:e})}}),o.clearTag()}else{var l=this.env,v=Qa({isQuickReport:n}),p=[$a.call(o,X,t,e,r)];to(Ja(ne.isStr(i.category)&&i.category||l[fa]),da,p,function(t,n){t?(xn(ut),Fe(a,ha),o.pay(e,r,i)):Fe(a,pa)},{nativeOptions:v})}},Ca.tag=function(e,t,n,i){var r=void 0,o=this.env,a=arguments,u=[],c=function(t){if(!ne.isObj(t))return t;for(var n=t,e=0,r=u.length;e<r;e++){if(!n)return n;n=n[u[e]]}return n},s=function(){oe.each(a,function(t){if(!ne.isStr(t))return!1;u.push(t)})},f=function(t,n,e){var r={};r[t]=n,to(Ja(o[fa]),"setTag",r,function(t,n){i&&(e&&s(),i(t,c(n),!0))})},d=function(t){var n=wi.getAll();t||s(),i&&i(0,c(n),!1)};if(oe.each(a,function(t){ne.isFunc(t)&&(i=t)}),ne.isObj(e)){var l=this;oe.each(e,function(t,n){l.tag(n,t)})}else ne.isStr(e)&&ne.isObj(t)?ut!==wn()?f(e,r=t,!0):(ue(t,function(t,n){wi.set(e,n,t)}),d(!0)):(ne.isObj(n)||ne.isStr(n))&&function(t){if(!ne.isStr(t)&&!t.length)return!1;return!0}(e)&&ne.isStr(t)?ut!==wn()?((r={})[t]=n,f(e,r,!0)):(wi.set(e,t,n),d(!0)):ne.isFunc(e)||ne.isFunc(t)||ne.isStr(e)&&ne.isStr(t)&&ne.isFunc(n)?ut!==wn()?(s(),to(Ja(o[fa]),"getTag",{},function(t,n){i&&i(t,c(n),!0)})):d():i&&i(-1)},Ca.clearTag=function(t,n,e){var r=0;ut===wn()?(ne.isFunc(t)&&(e=t,t=Vn),wi.clear(t,n),e&&e(0)):r=-1,e&&e(r)},Ca.sfrom=function(r){var i=void 0,t=this.env;ut!==wn()?to(Ja(t[fa]),"getSFrom",{},function(t,n){if(n){var e=n.data?n.data:n;i=ne.isStr(e)?JSON.parse(e):e,r(t,i)}}):r(1,[])},Ca.send=function(t,r){var n=[];r=ne.extend({cb:function(t,n,e){r.cbkey&&Fe(r.cbkey,{code:t,status:n,type:e})}},r),ne.run(t,function(t){De()&&(rn.inWXMP&&ne.isObj(t[l])&&t[l][O]?t[l][O]=Ce():t[O]=Ce()),n.push(t)});var e=Pa(!0);e&&oe.isArray(e)&&(n=e.concat(n)),Kr(n,r)},Ca.getAll=function(){return wa};var tu=Ya.prototype;tu.create=function(t,n){var e=ne.extend({},this.env);e=ne.extend(e,{category:t});var r=ne.extend({isDefault:!1},this.opts),i=new Ea(r=ne.extend(r,n||{}),e);return this._t.push(i),n.isDefault&&(this._dt=i),i},tu.config=function(t,n){return Vn!==t&&(rn[t]=n),"cid"===t&&ie(n)&&(this.opts.cid=n),rn[t]},tu._initPV=function(t,n){Ga(this,this.config("pageValLab"),t=ne.extend(t,this.config("pageEnv")),{isauto:6,cid:n,isAutoInit:!0})},tu.pageView=function(t,n,e){Ga(this,t,n,e)},tu.moduleView=function(t,n,e){this._dt.moduleView(t,n,e)},tu.moduleViewList=function(t,n,e){this._dt.moduleViewList(t,n,e)},tu.systemCheck=function(t,n,e){this._dt.systemCheck(t,n,e)},tu.moduleClick=function(t,n,e){this._dt.moduleClick(t,n,e)},tu.moduleEdit=function(t,n,e){this._dt.moduleEdit(t,n,e)},tu.order=function(t,n,e,r){this._dt.order(t,Za(e,n),r)},tu.pay=function(t,n,e,r){this._dt.pay(t,Za(e,n),r)},tu.pageDisappear=function(t,n){this._dt.pageDisappear(t,n)},tu.tag=function(t,n,e,r){this._dt.tag(t,n,e,r)},tu.sfrom=function(t){this._dt.sfrom(t)},tu.clearTag=function(t,n,e){this._dt.clearTag(t,n,e)},tu.getAll=function(t){t&&t(this._t)},tu.getTracker=function(n,t){var e=oe.find(this._t,function(t){return t.env.category===n});t&&t(e)},tu.get=function(t,n){this._dt.get(t,n)},tu.set=function(t,n,e){this._dt.set(t,n,e)},tu._setRequestID=function(t){Oa=t},tu._setNativeEvsData=function(t,n){var e;e=n,qa[t]=e};var nu=void 0,eu=!0,ru=function(){var t;if(!!!rn.onWebviewAppearAutoPV)return t=rn.c,void _u().getTracker(t,function(t){var n=t.env.category,e=ne.extend({refer_cid:Xo(),refer_req_id:zo()},t.currentEvs);oe.each(e,function(t,n){e["web_"+n]=t,delete e[n]}),to(n,"setWebPageData",e,function(t,n){})});ye(),yu(),nu.pageView(Vn,Vn,{fromWA:!0,withlab:!!rn.positiveLab}),ln(0)},iu=function(){!!rn.onWebviewAppearAutoPV&&(vn()||(ln(d),nu.pageDisappear({})))},ou=function(){eu=!0,ru()},au=function(){eu=!1,iu(),Tn()},uu=function(){eu&&ru()},cu=function(){eu&&(iu(),Tn())},su=void 0,fu=!!/\d\.\d\.\d/.test(tr)&&0<=Oe(tr,"11.3.0");function du(t,n){ne.isStr(t)&&(n=ne.isFunc(n)&&n||function(){},"on"+t in Nn||"KNB:"+t in Nn?ne.on(window,t,function(t){n(t)}):(su=window.KNB)&&ne.isFunc(su.subscribe)&&su.subscribe({action:t,handle:function(){n()},success:function(){},fail:function(t){}}))}var lu={hook:function(){try{du("appear",ou),du("disappear",au),fu&&(du("foreground",uu),du("background",cu))}catch(t){Qr("sdk","api-error","",t.stack,!0)}nu=_u()}},vu=[],pu=ct,hu=void 0,mu=void 0;function gu(t,n){return{cb:t,cmd:n}}function _u(){return hu}function yu(){var n,r;kn(!1),(n=mu,r={none:!0},new cr(function(e){try{var t=Oe(ao,"4.12.0");!ao||!te(t)||t<0?e(r):n&&Be||ir()?to(n,"getReqId",{},function(t,n){e(t?r:n)}):e(r)}catch(t){e(r),Qr("sdk","api-error","",t.stack,!0)}})).then(function(t){var n=t||{},e=n.val_ref,r=n.req_id,i=n.refer_req_id,o=!!(r||e||i);r&&hu._setRequestID(r),e&&hu._setNativeEvsData("val_ref",e),i&&hu._setNativeEvsData("refer_req_id",i),kn(o)})}function bu(t,n){if(ft===pu)t&&t(hu);else if(st===pu)t&&vu.push(gu(t,n));else{ne.now();vu=vu.concat(gu(t,n));var e=Rn.getElementsByTagName("meta"),o=he(e,"lx:cid")||rn.cid;if(!(mu=rn.c=he(e,"lx:category")))return void(pu=ct);pu=st;var a=he(e,"lx:mvDelay");a=isNaN(a)?0:parseInt(a,10);var u="off"!==he(e,"lx:autopv");rn.autoPV=u,D(yu,1e3),cr.all([Co(mu)]).then(function(t){var n,r=t[0],e=r.appnm;!ne.isStr(e)||Rn.domain,hu=new Ya(r,{cid:o,isDefault:!0,mvDelay:a}),mu&&hu.create(mu,{isDefault:!0}),r=ne.extend(!0,hu._dt.env,r),hu._dt.env=r,ne.now();try{var i=[];oe.each(vu,function(t){var n=t.cb,e=t.cmd;"config"===e||"set"===e?n(hu,r):i.push(t)}),Ve&&(n=r.msid,Jo||(Jo=new Vo(n))),u&&mu&&o&&o&&hu._initPV(r,o),lu.hook(function(){}),oe.each(i,function(t){t&&t.cb&&t.cb(hu,r)})}catch(t){}}).then(function(){pu=ft,Er.check()},function(t){throw pu=ft,t})}}var wu=[["click",et],["tap",et],["view","moduleView"],["return","moduleEdit"],["order",rt],["pay","pay"]],xu=oe.reduce(wu,function(t,n){return t[n[0]]=n[1],t},{}),Su=[["mpt",tt],["report","pageDisappear"]],ku=oe.reduce(Su,function(t,n){return t[n[0]]=n[1],t},{}),Ou=oe.reduce(["config","event","send","use"],function(t,n){return t[n]=!0,t},{}),qu=function(t,n){var e=Rn.getElementsByTagName("head")[0],r=Rn.createElement("meta");r.setAttribute("name",t),r.setAttribute("content",n),e.appendChild(r)},Iu=function(e,t){return e=e||{},ue(t,function(t,n){1==={act:1,cid:1,val:1,lab:1,bid:1}[n]?e["val_"+n]=t:e[n]=t}),e},ju=function(t,n,e){(t&&!re(t)&&(t={custom:{_lab:t}}),!t&&e&&(t={}),e)&&((t.custom=t.custom||{})[n]=e);return t},Au=function(t,n,e){return t&&!re(t)&&(t={custom:{_lab:t}}),t&&(t[n]=e),t},Du=function(t,n){var e=t[Tt],r=t[Nt];if(e&&e===r&&(r=ee(!0,{},r)),n&&(r||e)){var i=e;e=r||{},i&&(e=ju(e||{},"_lab",i))}else if(!n&&(r||e)){if(ie(r)&&(r={analyse_val:r}),ie(e))e={val_lab:e};r&&(e=Au(e||{},"page",r))}return Vn!==t[z]&&(e=ju(e||{},"_act",t[z])),Vn!==t[$]&&(e=ju(e||{},"_et",t[$])),Vn!==t[Z]&&(e=Au(e||{},Z,t[Z])),Vn!==t[G]&&(e=ju(e||{},"_el_id",t[G])),e};function Eu(t){var n,e,r,i=(e=(n=t).split("."),r=void 0,2===e.length&&(n=e[1],r=e[0]),[n,r]),o=void 0;return i[1]&&(o=i[1]),[t=i[0],o]}var Cu=function n(e,t){var r=Eu(e);e=r[0];var i=r[1],o=t[0],a=t[1];if(oe.isArray(o))return ce(o,function(t){return n(i?i+"."+e:e,[t,a])});var u,c,s=(o.nm||"mge").toLowerCase();o.nm=s,(c=(u=o).val)&&(Iu(u,c),delete u.val),o=u;var f="mge"===s;if("mpt"===s)return function(t){t=Iu(t,t.val);var n=Du(t,!0);return[tt,n,null,t[H]]}.apply(null,t);var d,l,v=rt===s,p="pay"===s,h=o[$],m=o[z],g=Du(o,!1);v||p||h||!f||!m?p||v?e=s:(l=h,e="mge"===(d=s)?l?xu[l]||nt:et:"mpt"===d||"report"===d?ku[d]:nt,f||(g=ju(g||{},"_nm",s))):e=et;var _=o[H];return _&&((a=a||{}).cid=_),i&&ju(g,"_logchannel",i),ju(g=g||{},"_api","v3"),e===rt||"pay"===e?[e,o[Mt],g.order_id,g,a]:[e,o[Mt],g,a]},Tu=function t(){if(!t.f){qu("lx:autopv","off"),t.f=!0}},Mu=function(t){if(!t||!t.length)return t;try{var n=t[0];0<(a=(o=n).indexOf("."))&&(o=o.substr(a+1)),Ou[o]&&(t=oe.slice(t,1),Nu(n)?(Ae(3),Tu(),t=Cu(n,t)):Fu(n)?(Ae(3),Tu(),t=function(t,n){var e=Eu(t)[1];t=tt;var r=n[1],i=n[2],o=e?{custom:{_logchannel:e}}:Vn,a={};if(ie(r))re(i)?o=i:ie(i)&&(o=ju({},"analyse_val",i));else if(re(r)){i=(a=Iu(a,r))[Nt],ie(i)&&(i=ju({},"analyse_val",i)),o=i;var u=a[Tt];u&&ju(o,"_lab",u),r=a[H]}var c=void 0;return r&&((c={}).cid=r),[t,o=ju(o,"_api","v3"),Vn,c]}(n,t)):Ru(n)?(Ae(3),Tu(),t=function(t,n){var e=n[0],r=n[1];if(e&&(e=e.replace(/^data_sdk_/i,""),qu("lx:category",e)),re(r))return["set",r]}(0,t)):Pu(n,t[0],t[1])?(Tu(),e=n,r=t[0],i=t[1],t="appnm"===r&&ie(i)?void qu("lx:appnm",i):("cid"===r&&ie(i)&&qu("lx:cid",i),[e,r,i])):t.unshift(n))}catch(t){}var e,r,i,o,a;return t},Nu=function(t){var n=t.indexOf(".");return 0<n&&(t=t.substr(n+1)),"event"===t},Fu=function(t){var n=t.indexOf(".");return 0<n&&(t=t.substr(n+1)),"send"===t},Ru=function(t){return"use"===t},Pu=function(t,n){var e=!1;return"cid"!==n&&"appnm"!==n||(Ae(3),e=!0),"config"===t&&e},Lu=void 0,Bu=void 0;function Vu(t,n,e,r,i){if(ne.isFunc(n))n.call(t,t,r,i);else if(!i&&ne.isStr(n)){if(ne.isFunc(t[n]))return t[n].apply(t,e);if("onLoad"===n)try{e[0](ne.extend(!0,{},r))}catch(t){}}}function Ju(){if(!Bu){Bu=!0;var r=void 0;Ke&&ne.on(Rn,"mouseup",function(t){var n=t.target||t.srcElement,e=n.tagName+n.href;e=e.toLocaleLowerCase(),1===n.nodeType&&/^ajavascript:/i.test(e)&&(r=new Date)});var t=Nn.onbeforeunload;Ve&&Ue?Nn.addEventListener("pagehide",qe(!1,Ke,r,void 0,Uu,Vn,vn)):Nn.onbeforeunload=qe(!1,Ke,r,void 0,Uu,t,vn)}}function Uu(r){try{var t=document.getElementById("__lxsdk_devltool_message_node");if(t){var n=new CustomEvent("lxsdk",{detail:{args:JSON.stringify(arguments)}});t.dispatchEvent(n)}}catch(t){}var e=arguments;if(e.length){var i=oe.slice(e,1,e.length);try{Lu?Vu(Lu,r,i,Lu._dt?Lu._dt.env:null):bu(function(t,n,e){Vu(Lu=t,r,i,n,e),Ju()},r)}catch(t){try{Qr("sdk","api-error","",t.message+"\n"+t.stack,!0)}catch(t){}}}}window._lxsdk_isDOMReady||(window._lxsdk_isDOMReady=!0,function(){var s=!0,f=!1,d=function(){var t=me();t&&(t.q.push=function n(t){try{var e,r=(e=Mu(t))?e[0]:"";if(oe.isArray(r))return void ue(e,function(t){n(t)});"start"===r?(s=!0,f||l(d)):!1===s?e&&d.push(e):Uu.apply(Vn,e)}catch(t){try{Qr("sdk","api-error","",t.stack,!0)}catch(t){}}});for(var n=void 0,e=void 0,r=[],i=[],o=[],a=t&&oe.isArray(t.q)?t.q:[],u=0,c=a.length;u<c;u++)"config"===(e=a[u][0])?i.push(a[u]):n||"use"!==e?o.push(a[u]):(r.push(a[u]),n=!0);return a=i.concat(r.concat(o))}();function l(t){f||(t&&oe.each(t,function(t){var n,e=(n=Mu(t))?n[0]:"";oe.isArray(e)?ue(n,function(t){Uu.apply(Vn,t)}):e?Uu.apply(Vn,n):t&&t&&t[0]}),Uu(function(){Ju()}),f=!0)}if(0===d.length)bu(function(t){Lu=t,Ju()});else try{d=ce(d,function(t){var n;if("config"===((n=Mu(t))?n[0]:"")){var e=n[1],r=n[2];"autoStart"===e&&!1===r&&(s=!1)}return n}),s&&l(d)}catch(t){}}())}();
//# sourceMappingURL=analytics.js.map
